"use strict";(self.webpackChunkbooking_com=self.webpackChunkbooking_com||[]).push([[179],{953:()=>{function de(t){return"function"==typeof t}function Zs(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const fu=Zs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function bo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ht{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(de(r))try{r()}catch(o){e=o instanceof fu?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Hb(o)}catch(s){e=e??[],s instanceof fu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new fu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Hb(e);else{if(e instanceof Ht){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&bo(n,e)}remove(e){const{_finalizers:n}=this;n&&bo(n,e),e instanceof Ht&&e._removeParent(this)}}Ht.EMPTY=(()=>{const t=new Ht;return t.closed=!0,t})();const Ub=Ht.EMPTY;function Bb(t){return t instanceof Ht||t&&"closed"in t&&de(t.remove)&&de(t.add)&&de(t.unsubscribe)}function Hb(t){de(t)?t():t.unsubscribe()}const bi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},pu={setTimeout(t,e,...n){const{delegate:r}=pu;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=pu;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function $b(t){pu.setTimeout(()=>{const{onUnhandledError:e}=bi;if(!e)throw t;e(t)})}function jb(){}const PL=cf("C",void 0,void 0);function cf(t,e,n){return{kind:t,value:e,error:n}}let Ii=null;function gu(t){if(bi.useDeprecatedSynchronousErrorHandling){const e=!Ii;if(e&&(Ii={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ii;if(Ii=null,n)throw r}}else t()}class df extends Ht{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Bb(e)&&e.add(this)):this.destination=UL}static create(e,n,r){return new ea(e,n,r)}next(e){this.isStopped?ff(function xL(t){return cf("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ff(function kL(t){return cf("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ff(PL,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const FL=Function.prototype.bind;function hf(t,e){return FL.call(t,e)}class LL{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){mu(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){mu(r)}else mu(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){mu(n)}}}class ea extends df{constructor(e,n,r){let i;if(super(),de(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&bi.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hf(e.next,o),error:e.error&&hf(e.error,o),complete:e.complete&&hf(e.complete,o)}):i=e}this.destination=new LL(i)}}function mu(t){bi.useDeprecatedSynchronousErrorHandling?function OL(t){bi.useDeprecatedSynchronousErrorHandling&&Ii&&(Ii.errorThrown=!0,Ii.error=t)}(t):$b(t)}function ff(t,e){const{onStoppedNotification:n}=bi;n&&pu.setTimeout(()=>n(t,e))}const UL={closed:!0,next:jb,error:function VL(t){throw t},complete:jb},pf="function"==typeof Symbol&&Symbol.observable||"@@observable";function $r(t){return t}function Wb(t){return 0===t.length?$r:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function $L(t){return t&&t instanceof df||function HL(t){return t&&de(t.next)&&de(t.error)&&de(t.complete)}(t)&&Bb(t)}(n)?n:new ea(n,r,i);return gu(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Gb(r))((i,o)=>{const s=new ea({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[pf](){return this}pipe(...n){return Wb(n)(this)}toPromise(n){return new(n=Gb(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Gb(t){var e;return null!==(e=t??bi.Promise)&&void 0!==e?e:Promise}const jL=Zs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let cr=(()=>{class t extends be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new zb(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jL}next(n){gu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){gu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){gu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Ub:(this.currentObservers=null,o.push(n),new Ht(()=>{this.currentObservers=null,bo(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new be;return n.source=this,n}}return t.create=(e,n)=>new zb(e,n),t})();class zb extends cr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Ub}}class nn extends cr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function qb(t){return de(t?.lift)}function et(t){return e=>{if(qb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ge(t,e,n,r,i){return new WL(t,e,n,r,i)}class WL extends df{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function re(t,e){return et((n,r)=>{let i=0;n.subscribe(Ge(r,o=>{r.next(t.call(e,o,i++))}))})}function jr(t){return this instanceof jr?(this.v=t,this):new jr(t)}function Jb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function yf(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Xb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Zb(t){return de(t?.then)}function eI(t){return de(t[pf])}function tI(t){return Symbol.asyncIterator&&de(t?.[Symbol.asyncIterator])}function nI(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const rI=function hV(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function iI(t){return de(t?.[rI])}function oI(t){return function Qb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof jr?Promise.resolve(h.value.v).then(u,c):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield jr(n.read());if(i)return yield jr(void 0);yield yield jr(r)}}finally{n.releaseLock()}})}function sI(t){return de(t?.getReader)}function rn(t){if(t instanceof be)return t;if(null!=t){if(eI(t))return function fV(t){return new be(e=>{const n=t[pf]();if(de(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Xb(t))return function pV(t){return new be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Zb(t))return function gV(t){return new be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,$b)})}(t);if(tI(t))return aI(t);if(iI(t))return function mV(t){return new be(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(sI(t))return function _V(t){return aI(oI(t))}(t)}throw nI(t)}function aI(t){return new be(e=>{(function yV(t,e){var n,r,i,o;return function Kb(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Jb(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function dr(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function st(t,e,n=1/0){return de(e)?st((r,i)=>re((o,s)=>e(r,o,i,s))(rn(t(r,i))),n):("number"==typeof e&&(n=e),et((r,i)=>function vV(t,e,n,r,i,o,s,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=g=>u<r?p(g):l.push(g),p=g=>{o&&e.next(g),u++;let m=!1;rn(n(g,c++)).subscribe(Ge(e,v=>{i?.(v),o?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;l.length&&u<r;){const v=l.shift();s?dr(e,s,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Ge(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Io(t=1/0){return st($r,t)}const Fn=new be(t=>t.complete());function vf(t){return t[t.length-1]}function lI(t){return de(vf(t))?t.pop():void 0}function ta(t){return function CV(t){return t&&de(t.schedule)}(vf(t))?t.pop():void 0}function _u(t,e=0){return et((n,r)=>{n.subscribe(Ge(r,i=>dr(r,t,()=>r.next(i),e),()=>dr(r,t,()=>r.complete(),e),i=>dr(r,t,()=>r.error(i),e)))})}function yu(t,e=0){return et((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function uI(t,e){if(!t)throw new Error("Iterable cannot be null");return new be(n=>{dr(n,e,()=>{const r=t[Symbol.asyncIterator]();dr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ze(t,e){return e?function AV(t,e){if(null!=t){if(eI(t))return function bV(t,e){return rn(t).pipe(yu(e),_u(e))}(t,e);if(Xb(t))return function DV(t,e){return new be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Zb(t))return function IV(t,e){return rn(t).pipe(yu(e),_u(e))}(t,e);if(tI(t))return uI(t,e);if(iI(t))return function TV(t,e){return new be(n=>{let r;return dr(n,e,()=>{r=t[rI](),dr(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}(t,e);if(sI(t))return function SV(t,e){return uI(oI(t),e)}(t,e)}throw nI(t)}(t,e):rn(t)}function L(...t){return ze(t,ta(t))}function cI(t={}){const{connector:e=(()=>new cr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,c=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return et((g,m)=>{u++,!d&&!c&&h();const v=l=l??e();m.add(()=>{u--,0===u&&!d&&!c&&(a=Ef(p,i))}),v.subscribe(m),!s&&u>0&&(s=new ea({next:_=>v.next(_),error:_=>{d=!0,h(),a=Ef(f,n,_),v.error(_)},complete:()=>{c=!0,h(),a=Ef(f,r),v.complete()}}),rn(g).subscribe(s))})(o)}}function Ef(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ea({next:()=>{r.unsubscribe(),t()}});return rn(e(...n)).subscribe(r)}function vn(t,e){return et((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Ge(r,l=>{i?.unsubscribe();let u=0;const c=o++;rn(t(l,c)).subscribe(i=Ge(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function NV(t,e){return t===e}function le(t){for(let e in t)if(t[e]===le)return e;throw Error("Could not find renamed property on target object.")}function vu(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function qe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(qe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Cf(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const PV=le({__forward_ref__:le});function pe(t){return t.__forward_ref__=pe,t.toString=function(){return qe(this())},t}function B(t){return wf(t)?t():t}function wf(t){return"function"==typeof t&&t.hasOwnProperty(PV)&&t.__forward_ref__===pe}function bf(t){return t&&!!t.\u0275providers}class C extends Error{constructor(e,n){super(function Eu(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function H(t){return"string"==typeof t?t:null==t?"":String(t)}function Cu(t,e){throw new C(-201,!1)}function on(t,e){null==t&&function ie(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function St(t){return{providers:t.providers||[],imports:t.imports||[]}}function wu(t){return hI(t,bu)||hI(t,pI)}function hI(t,e){return t.hasOwnProperty(e)?t[e]:null}function fI(t){return t&&(t.hasOwnProperty(If)||t.hasOwnProperty(BV))?t[If]:null}const bu=le({\u0275prov:le}),If=le({\u0275inj:le}),pI=le({ngInjectableDef:le}),BV=le({ngInjectorDef:le});var k=(()=>((k=k||{})[k.Default=0]="Default",k[k.Host=1]="Host",k[k.Self=2]="Self",k[k.SkipSelf=4]="SkipSelf",k[k.Optional=8]="Optional",k))();let Df;function At(t){const e=Df;return Df=t,e}function mI(t,e,n){const r=wu(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void Cu(qe(t))}const he=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),na={},Tf="__NG_DI_FLAG__",Iu="ngTempTokenPath",$V=/\n/gm,_I="__source";let Do;function Wr(t){const e=Do;return Do=t,e}function GV(t,e=k.Default){if(void 0===Do)throw new C(-203,!1);return null===Do?mI(t,void 0,e):Do.get(t,e&k.Optional?null:void 0,e)}function R(t,e=k.Default){return(function gI(){return Df}()||GV)(B(t),e)}function M(t,e=k.Default){return R(t,Du(e))}function Du(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Sf(t){const e=[];for(let n=0;n<t.length;n++){const r=B(t[n]);if(Array.isArray(r)){if(0===r.length)throw new C(900,!1);let i,o=k.Default;for(let s=0;s<r.length;s++){const a=r[s],l=zV(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(R(i,o))}else e.push(R(r))}return e}function ra(t,e){return t[Tf]=e,t.prototype[Tf]=e,t}function zV(t){return t[Tf]}function hr(t){return{toString:t}.toString()}var Ln=(()=>((Ln=Ln||{})[Ln.OnPush=0]="OnPush",Ln[Ln.Default=1]="Default",Ln))(),jt=(()=>{return(t=jt||(jt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",jt;var t})();const Vn={},te=[],Tu=le({\u0275cmp:le}),Af=le({\u0275dir:le}),Mf=le({\u0275pipe:le}),vI=le({\u0275mod:le}),fr=le({\u0275fac:le}),ia=le({__NG_ELEMENT_ID__:le}),EI=le({__NG_ENV_ID__:le});function CI(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Rf(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];bI(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function wI(t){return 3===t||4===t||6===t}function bI(t){return 64===t.charCodeAt(0)}function oa(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||II(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function II(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const DI="ng-template";function YV(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==CI(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function TI(t){return 4===t.type&&t.value!==DI}function QV(t,e,n){return e===(4!==t.type||n?t.value:DI)}function JV(t,e,n){let r=4;const i=t.attrs||[],o=function eU(t){for(let e=0;e<t.length;e++)if(wI(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!QV(t,l,n)||""===l&&1===e.length){if(En(r))return!1;s=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!YV(t.attrs,u,n)){if(En(r))return!1;s=!0}continue}const d=XV(8&r?"class":l,i,TI(t),n);if(-1===d){if(En(r))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==CI(f,u,0)||2&r&&u!==h){if(En(r))return!1;s=!0}}}}else{if(!s&&!En(r)&&!En(l))return!1;if(s&&En(l))continue;s=!1,r=l|1&r}}return En(r)||s}function En(t){return 0==(1&t)}function XV(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function tU(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function SI(t,e,n=!1){for(let r=0;r<e.length;r++)if(JV(t,e[r],n))return!0;return!1}function AI(t,e){return t?":not("+e.trim()+")":e}function rU(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!En(s)&&(e+=AI(o,i),i=""),r=s,o=o||!En(r);n++}return""!==i&&(e+=AI(o,i)),e}function Nf(t){return hr(()=>{const e=RI(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ln.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||jt.Emulated,styles:t.styles||te,_:null,schemas:t.schemas||null,tView:null,id:""};NI(n);const r=t.dependencies;return n.directiveDefs=Su(r,!1),n.pipeDefs=Su(r,!0),n.id=function dU(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function aU(t){return oe(t)||ht(t)}function lU(t){return null!==t}function Wt(t){return hr(()=>({type:t.type,bootstrap:t.bootstrap||te,declarations:t.declarations||te,imports:t.imports||te,exports:t.exports||te,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function MI(t,e){if(null==t)return Vn;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function U(t){return hr(()=>{const e=RI(t);return NI(e),e})}function oe(t){return t[Tu]||null}function ht(t){return t[Af]||null}function Rt(t){return t[Mf]||null}function Gt(t,e){const n=t[vI]||null;if(!n&&!0===e)throw new Error(`Type ${qe(t)} does not have '\u0275mod' property.`);return n}function RI(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Vn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||te,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:MI(t.inputs,e),outputs:MI(t.outputs)}}function NI(t){t.features?.forEach(e=>e(t))}function Su(t,e){if(!t)return null;const n=e?Rt:aU;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(lU)}const Ke=0,A=1,$=2,Ie=3,Cn=4,sa=5,ft=6,So=7,xe=8,Ao=9,Ti=10,j=11,aa=12,PI=13,Mo=14,Oe=15,la=16,Ro=17,Un=18,ua=19,kI=20,Gr=21,pr=22,Au=23,Mu=24,X=25,Pf=1,xI=2,Bn=7,No=9,pt=11;function zt(t){return Array.isArray(t)&&"object"==typeof t[Pf]}function Nt(t){return Array.isArray(t)&&!0===t[Pf]}function kf(t){return 0!=(4&t.flags)}function Si(t){return t.componentOffset>-1}function Nu(t){return 1==(1&t.flags)}function wn(t){return!!t.template}function xf(t){return 0!=(512&t[$])}function Ai(t,e){return t.hasOwnProperty(fr)?t[fr]:null}let _U=he.WeakRef??class mU{constructor(e){this.ref=e}deref(){return this.ref}},vU=0,Hn=null,Pu=!1;function tt(t){const e=Hn;return Hn=t,e}class UI{constructor(){this.id=vU++,this.ref=function yU(t){return new _U(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Pu;Pu=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Pu=e}}producerAccessed(){if(Pu)throw new Error("");if(null===Hn)return;let e=Hn.producers.get(this.id);void 0===e?(e={consumerNode:Hn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Hn.trackingVersion},Hn.producers.set(this.id,e),this.consumers.set(Hn.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Hn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Hn?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let BI=null;const $I=()=>{};class bU extends UI{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=$I,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=tt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=$I,this.watch(this.registerOnCleanup)}finally{tt(e)}}cleanup(){this.cleanupFn()}}class IU{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function sn(){return jI}function jI(t){return t.type.prototype.ngOnChanges&&(t.setInput=TU),DU}function DU(){const t=GI(this),e=t?.current;if(e){const n=t.previous;if(n===Vn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function TU(t,e,n,r){const i=this.declaredInputs[n],o=GI(t)||function SU(t,e){return t[WI]=e}(t,{previous:Vn,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new IU(l&&l.currentValue,e,a===Vn),t[r]=e}sn.ngInherit=!0;const WI="__ngSimpleChanges__";function GI(t){return t[WI]||null}const $n=function(t,e,n){};function ve(t){for(;Array.isArray(t);)t=t[Ke];return t}function Ou(t,e){return ve(e[t])}function Pt(t,e){return ve(e[t.index])}function KI(t,e){return t.data[e]}function qt(t,e){const n=e[t];return zt(n)?n:n[Ke]}function zr(t,e){return null==e?null:t[e]}function YI(t){t[Ro]=0}function xU(t){1024&t[$]||(t[$]|=1024,JI(t,1))}function QI(t){1024&t[$]&&(t[$]&=-1025,JI(t,-1))}function JI(t,e){let n=t[Ie];if(null===n)return;n[sa]+=e;let r=n;for(n=n[Ie];null!==n&&(1===e&&1===r[sa]||-1===e&&0===r[sa]);)n[sa]+=e,r=n,n=n[Ie]}const V={lFrame:lD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function eD(){return V.bindingsEnabled}function E(){return V.lFrame.lView}function ee(){return V.lFrame.tView}function at(){let t=tD();for(;null!==t&&64===t.type;)t=t.parent;return t}function tD(){return V.lFrame.currentTNode}function jn(t,e){const n=V.lFrame;n.currentTNode=t,n.isParent=e}function Bf(){return V.lFrame.isParent}function xo(){return V.lFrame.bindingIndex++}function KU(t,e){const n=V.lFrame;n.bindingIndex=n.bindingRootIndex=t,$f(e)}function $f(t){V.lFrame.currentDirectiveIndex=t}function Wf(t){V.lFrame.currentQueryIndex=t}function QU(t){const e=t[A];return 2===e.type?e.declTNode:1===e.type?t[ft]:null}function sD(t,e,n){if(n&k.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&k.Host||(i=QU(o),null===i||(o=o[Mo],10&i.type))););if(null===i)return!1;e=i,t=o}const r=V.lFrame=aD();return r.currentTNode=e,r.lView=t,!0}function Gf(t){const e=aD(),n=t[A];V.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function aD(){const t=V.lFrame,e=null===t?null:t.child;return null===e?lD(t):e}function lD(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function uD(){const t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const cD=uD;function zf(){const t=uD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ct(){return V.lFrame.selectedIndex}function Mi(t){V.lFrame.selectedIndex=t}function De(){const t=V.lFrame;return KI(t.tView,t.selectedIndex)}let hD=!0;function Fu(){return hD}function qr(t){hD=t}function Lu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=c&&(t.destroyHooks??=[]).push(n,c)}}function Vu(t,e,n){fD(t,e,3,n)}function Uu(t,e,n,r){(3&t[$])===n&&fD(t,e,n,r)}function qf(t,e){let n=t[$];(3&n)===e&&(n&=8191,n+=1,t[$]=n)}function fD(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[Ro]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[Ro]+=65536),(a<o||-1==o)&&(iB(t,n,e,l),t[Ro]=(4294901760&t[Ro])+l+2),l++}function pD(t,e){$n(4,t,e);const n=tt(null);try{e.call(t)}finally{tt(n),$n(5,t,e)}}function iB(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[$]>>13<t[Ro]>>16&&(3&t[$])===e&&(t[$]+=8192,pD(a,o)):pD(a,o)}const Oo=-1;class ha{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function gD(t){return t!==Oo}function Bu(t){return 32767&t}function Hu(t,e){let n=function lB(t){return t>>16}(t),r=e;for(;n>0;)r=r[Mo],n--;return r}let Yf=!0;function $u(t){const e=Yf;return Yf=t,e}const mD=255,_D=5;let uB=0;const Wn={};function ju(t,e){const n=yD(t,e);if(-1!==n)return n;const r=e[A];r.firstCreatePass&&(t.injectorIndex=e.length,Qf(r.data,t),Qf(e,null),Qf(r.blueprint,null));const i=Jf(t,e),o=t.injectorIndex;if(gD(i)){const s=Bu(i),a=Hu(i,e),l=a[A].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function Qf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yD(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Jf(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=DD(i),null===r)return Oo;if(n++,i=i[Mo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Oo}function Xf(t,e,n){!function cB(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ia)&&(r=n[ia]),null==r&&(r=n[ia]=uB++);const i=r&mD;e.data[t+(i>>_D)]|=1<<i}(t,e,n)}function vD(t,e,n){if(n&k.Optional||void 0!==t)return t;Cu()}function ED(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),!(n&(k.Self|k.Host))){const i=t[Ao],o=At(void 0);try{return i?i.get(e,r,n&k.Optional):mI(e,r,n&k.Optional)}finally{At(o)}}return vD(r,0,n)}function CD(t,e,n,r=k.Default,i){if(null!==t){if(2048&e[$]&&!(r&k.Self)){const s=function gB(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[$]&&!(512&s[$]);){const a=wD(o,s,n,r|k.Self,Wn);if(a!==Wn)return a;let l=o.parent;if(!l){const u=s[kI];if(u){const c=u.get(n,Wn,r);if(c!==Wn)return c}l=DD(s),s=s[Mo]}o=l}return i}(t,e,n,r,Wn);if(s!==Wn)return s}const o=wD(t,e,n,r,Wn);if(o!==Wn)return o}return ED(e,n,r,i)}function wD(t,e,n,r,i){const o=function fB(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ia)?t[ia]:void 0;return"number"==typeof e?e>=0?e&mD:pB:e}(n);if("function"==typeof o){if(!sD(e,t,r))return r&k.Host?vD(i,0,r):ED(e,n,r,i);try{const s=o(r);if(null!=s||r&k.Optional)return s;Cu()}finally{cD()}}else if("number"==typeof o){let s=null,a=yD(t,e),l=Oo,u=r&k.Host?e[Oe][ft]:null;for((-1===a||r&k.SkipSelf)&&(l=-1===a?Jf(t,e):e[a+8],l!==Oo&&ID(r,!1)?(s=e[A],a=Bu(l),e=Hu(l,e)):a=-1);-1!==a;){const c=e[A];if(bD(o,a,c.data)){const d=hB(a,e,n,s,r,u);if(d!==Wn)return d}l=e[a+8],l!==Oo&&ID(r,e[A].data[a+8]===u)&&bD(o,a,e)?(s=c,a=Bu(l),e=Hu(l,e)):a=-1}}return i}function hB(t,e,n,r,i,o){const s=e[A],a=s.data[t+8],c=function Wu(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,c=o>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){const f=s[l];if(f&&wn(f)&&f.type===n)return l}return null}(a,s,n,null==r?Si(a)&&Yf:r!=s&&0!=(3&a.type),i&k.Host&&o===a);return null!==c?Ri(e,s,c,a):Wn}function Ri(t,e,n,r){let i=t[n];const o=e.data;if(function oB(t){return t instanceof ha}(i)){const s=i;s.resolving&&function kV(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,`Circular dependency in DI detected for ${t}${n}`)}(function se(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():H(t)}(o[n]));const a=$u(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?At(s.injectImpl):null;sD(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function rB(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=jI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&At(l),$u(a),s.resolving=!1,cD()}}return i}function bD(t,e,n){return!!(n[e+(t>>_D)]&1<<t)}function ID(t,e){return!(t&k.Self||t&k.Host&&e)}class Fo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return CD(this._tNode,this._lView,e,Du(r),n)}}function pB(){return new Fo(at(),E())}function lt(t){return hr(()=>{const e=t.prototype.constructor,n=e[fr]||Zf(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[fr]||Zf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Zf(t){return wf(t)?()=>{const e=Zf(B(t));return e&&e()}:Ai(t)}function DD(t){const e=t[A],n=e.type;return 2===n?e.declTNode:1===n?t[ft]:null}const Vo="__parameters__";function Bo(t,e,n){return hr(()=>{const r=function ep(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty(Vo)?l[Vo]:Object.defineProperty(l,Vo,{value:[]})[Vo];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ga(t,e){t.forEach(n=>Array.isArray(n)?ga(n,e):e(n))}function SD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Kt(t,e,n){let r=Ho(t,e);return r>=0?t[1|r]=n:(r=~r,function EB(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function tp(t,e){const n=Ho(t,e);if(n>=0)return t[1|n]}function Ho(t,e){return function AD(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const kt=ra(Bo("Optional"),8),Ku=ra(Bo("SkipSelf"),4);function Zu(t){return 128==(128&t.flags)}var xt=(()=>((xt=xt||{})[xt.Important=1]="Important",xt[xt.DashCase=2]="DashCase",xt))();const sp=new Map;let WB=0;const lp="__ngContext__";function gt(t,e){zt(e)?(t[lp]=e[ua],function zB(t){sp.set(t[ua],t)}(e)):t[lp]=e}let up;function cp(t,e){return up(t,e)}function va(t){const e=t[Ie];return Nt(e)?e[Ie]:e}function KD(t){return QD(t[aa])}function YD(t){return QD(t[Cn])}function QD(t){for(;null!==t&&!Nt(t);)t=t[Cn];return t}function Wo(t,e,n,r,i){if(null!=r){let o,s=!1;Nt(r)?o=r:zt(r)&&(s=!0,r=r[Ke]);const a=ve(r);0===t&&null!==n?null==i?tT(e,n,a):Ni(e,n,a,i||null,!0):1===t&&null!==n?Ni(e,n,a,i||null,!0):2===t?function oc(t,e,n){const r=rc(t,e);r&&function dH(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function pH(t,e,n,r,i){const o=n[Bn];o!==ve(n)&&Wo(e,t,r,o,i);for(let a=pt;a<n.length;a++){const l=n[a];Ca(l[A],l,t,e,r,o)}}(e,t,o,n,i)}}function nc(t,e,n){return t.createElement(e,n)}function XD(t,e){const n=t[No],r=n.indexOf(e);QI(e),n.splice(r,1)}function hp(t,e){if(t.length<=pt)return;const n=pt+e,r=t[n];if(r){const i=r[la];null!==i&&i!==t&&XD(i,r),e>0&&(t[n-1][Cn]=r[Cn]);const o=zu(t,pt+e);!function rH(t,e){Ca(t,e,e[j],2,null,null),e[Ke]=null,e[ft]=null}(r[A],r);const s=o[Un];null!==s&&s.detachView(o[A]),r[Ie]=null,r[Cn]=null,r[$]&=-129}return r}function ZD(t,e){if(!(256&e[$])){const n=e[j];e[Au]?.destroy(),e[Mu]?.destroy(),n.destroyNode&&Ca(t,e,n,3,null,null),function sH(t){let e=t[aa];if(!e)return fp(t[A],t);for(;e;){let n=null;if(zt(e))n=e[aa];else{const r=e[pt];r&&(n=r)}if(!n){for(;e&&!e[Cn]&&e!==t;)zt(e)&&fp(e[A],e),e=e[Ie];null===e&&(e=t),zt(e)&&fp(e[A],e),n=e&&e[Cn]}e=n}}(e)}}function fp(t,e){if(!(256&e[$])){e[$]&=-129,e[$]|=256,function cH(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ha)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];$n(4,a,l);try{l.call(a)}finally{$n(5,a,l)}}else{$n(4,i,o);try{o.call(i)}finally{$n(5,i,o)}}}}}(t,e),function uH(t,e){const n=t.cleanup,r=e[So];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[So]=null);const i=e[Gr];if(null!==i){e[Gr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[A].type&&e[j].destroy();const n=e[la];if(null!==n&&Nt(e[Ie])){n!==e[Ie]&&XD(n,e);const r=e[Un];null!==r&&r.detachView(t)}!function qB(t){sp.delete(t[ua])}(e)}}function pp(t,e,n){return function eT(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ke];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===jt.None||o===jt.Emulated)return null}return Pt(r,n)}}(t,e.parent,n)}function Ni(t,e,n,r,i){t.insertBefore(e,n,r,i)}function tT(t,e,n){t.appendChild(e,n)}function nT(t,e,n,r,i){null!==r?Ni(t,e,n,r,i):tT(t,e,n)}function rc(t,e){return t.parentNode(e)}let gp,vp,oT=function iT(t,e,n){return 40&t.type?Pt(t,n):null};function ic(t,e,n,r){const i=pp(t,r,e),o=e[j],a=function rT(t,e,n){return oT(t,e,n)}(r.parent||e[ft],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)nT(o,i,n[l],a,!1);else nT(o,i,n,a,!1);void 0!==gp&&gp(o,r,e,n,i)}function Ea(t,e){if(null!==e){const n=e.type;if(3&n)return Pt(e,t);if(4&n)return mp(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ea(t,r);{const i=t[e.index];return Nt(i)?mp(-1,i):ve(i)}}if(32&n)return cp(e,t)()||ve(t[e.index]);{const r=aT(t,e);return null!==r?Array.isArray(r)?r[0]:Ea(va(t[Oe]),r):Ea(t,e.next)}}return null}function aT(t,e){return null!==e?t[Oe][ft].projection[e.projection]:null}function mp(t,e){const n=pt+t+1;if(n<e.length){const r=e[n],i=r[A].firstChild;if(null!==i)return Ea(r,i)}return e[Bn]}function _p(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&gt(ve(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)_p(t,e,n.child,r,i,o,!1),Wo(e,t,i,a,o);else if(32&l){const u=cp(n,r);let c;for(;c=u();)Wo(e,t,i,c,o);Wo(e,t,i,a,o)}else 16&l?uT(t,e,r,n,i,o):Wo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ca(t,e,n,r,i,o){_p(n,r,t.firstChild,e,i,o,!1)}function uT(t,e,n,r,i,o){const s=n[Oe],l=s[ft].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Wo(e,t,i,l[u],o);else{let u=l;const c=s[Ie];Zu(r)&&(u.flags|=128),_p(t,e,u,c,i,o,!0)}}function cT(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function dT(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Rf(t,e,r),null!==i&&cT(t,e,i),null!==o&&function mH(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}class gT{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class T{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ta=new T("ENVIRONMENT_INITIALIZER"),DT=new T("INJECTOR",-1),TT=new T("INJECTOR_DEF_TYPES");class ST{get(e,n=na){if(n===na){const r=new Error(`NullInjectorError: No provider for ${qe(e)}!`);throw r.name="NullInjectorError",r}return n}}function jH(...t){return{\u0275providers:AT(0,t),\u0275fromNgModule:!0}}function AT(t,...e){const n=[],r=new Set;let i;return ga(e,o=>{const s=o;Tp(s,n,[],r)&&(i||=[],i.push(s))}),void 0!==i&&MT(i,n),n}function MT(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Sp(i,o=>{e.push(o)})}}function Tp(t,e,n,r){if(!(t=B(t)))return!1;let i=null,o=fI(t);const s=!o&&oe(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=fI(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)Tp(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{ga(o.imports,c=>{Tp(c,e,n,r)&&(u||=[],u.push(c))})}finally{}void 0!==u&&MT(u,e)}if(!a){const u=Ai(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:te},{provide:TT,useValue:i,multi:!0},{provide:Ta,useValue:()=>R(i),multi:!0})}const l=o.providers;null==l||a||Sp(l,c=>{e.push(c)})}}return i!==t&&void 0!==t.providers}function Sp(t,e){for(let n of t)bf(n)&&(n=n.\u0275providers),Array.isArray(n)?Sp(n,e):e(n)}const WH=le({provide:String,useValue:le});function Ap(t){return null!==t&&"object"==typeof t&&WH in t}function Pi(t){return"function"==typeof t}const Mp=new T("Set Injector scope."),uc={},zH={};let Rp;function cc(){return void 0===Rp&&(Rp=new ST),Rp}class Gn{}class Np extends Gn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kp(e,s=>this.processProvider(s)),this.records.set(DT,zo(void 0,this)),i.has("environment")&&this.records.set(Gn,zo(void 0,this));const o=this.records.get(Mp);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(TT.multi,te,k.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Wr(this),r=At(void 0);try{return e()}finally{Wr(n),At(r)}}get(e,n=na,r=k.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(EI))return e[EI](this);r=Du(r);const i=Wr(this),o=At(void 0);try{if(!(r&k.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function JH(t){return"function"==typeof t||"object"==typeof t&&t instanceof T}(e)&&wu(e);a=l&&this.injectableDefInScope(l)?zo(Pp(e),uc):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&k.Self?cc():this.parent).get(e,n=r&k.Optional&&n===na?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Iu]=s[Iu]||[]).unshift(qe(e)),i)throw s;return function qV(t,e,n,r){const i=t[Iu];throw e[_I]&&i.unshift(e[_I]),t.message=function KV(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=qe(e);if(Array.isArray(e))i=e.map(qe).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):qe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace($V,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Iu]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{At(o),Wr(i)}}resolveInjectorInitializers(){const e=Wr(this),n=At(void 0);try{const r=this.get(Ta.multi,te,k.Self);for(const i of r)i()}finally{Wr(e),At(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(qe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){let n=Pi(e=B(e))?e:B(e&&e.provide);const r=function KH(t){return Ap(t)?zo(void 0,t.useValue):zo(PT(t),uc)}(e);if(Pi(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=zo(void 0,uc,!0),i.factory=()=>Sf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===uc&&(n.value=zH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function QH(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=B(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Pp(t){const e=wu(t),n=null!==e?e.factory:Ai(t);if(null!==n)return n;if(t instanceof T)throw new C(204,!1);if(t instanceof Function)return function qH(t){const e=t.length;if(e>0)throw function ma(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new C(204,!1);const n=function UV(t){return t&&(t[bu]||t[pI])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new C(204,!1)}function PT(t,e,n){let r;if(Pi(t)){const i=B(t);return Ai(i)||Pp(i)}if(Ap(t))r=()=>B(t.useValue);else if(function NT(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Sf(t.deps||[]));else if(function RT(t){return!(!t||!t.useExisting)}(t))r=()=>R(B(t.useExisting));else{const i=B(t&&(t.useClass||t.provide));if(!function YH(t){return!!t.deps}(t))return Ai(i)||Pp(i);r=()=>new i(...Sf(t.deps))}return r}function zo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function kp(t,e){for(const n of t)Array.isArray(n)?kp(n,e):n&&bf(n)?kp(n.\u0275providers,e):e(n)}const dc=new T("AppId",{providedIn:"root",factory:()=>XH}),XH="ng",kT=new T("Platform Initializer"),yr=new T("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xT=new T("CSP nonce",{providedIn:"root",factory:()=>function wa(){if(void 0!==vp)return vp;if(typeof document<"u")return document;throw new C(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let FT=(t,e)=>null;function LT(t,e){return FT(t,e)}class a2{}class BT{}class u2{resolveComponentFactory(e){throw function l2(t){const e=Error(`No component factory found for ${qe(t)}.`);return e.ngComponent=t,e}(e)}}let mc=(()=>{class t{}return t.NULL=new u2,t})();function c2(){return qo(at(),E())}function qo(t,e){return new Yt(Pt(t,e))}let Yt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=c2,t})();class $T{}let vr=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function h2(){const t=E(),n=qt(at().index,t);return(zt(n)?n:t)[j]}(),t})(),f2=(()=>{class t{}return t.\u0275prov=N({token:t,providedIn:"root",factory:()=>null}),t})();class Ko{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const jT=new Ko("16.1.5"),Wp={};function Ra(t){for(;t;){t[$]|=64;const e=va(t);if(xf(t)&&!e)return t;t=e}return null}function Gp(t){return t.ngOriginalError}class ki{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Gp(e);for(;n&&Gp(n);)n=Gp(n);return n||null}}const zT=new T("",{providedIn:"root",factory:()=>!1});function Er(t){return t instanceof Function?t():t}class JT extends UI{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Ra(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=tt(this);this.trackingVersion++;try{e(n,r)}finally{tt(i)}}destroy(){this.trackingVersion++}}let yc=null;function XT(){return yc??=new JT,yc}function ZT(t,e){return t[e]??XT()}function eS(t,e){const n=XT();n.hasReadASignal&&(t[e]=yc,n.lView=t,yc=new JT)}const W={};function Cr(t){tS(ee(),E(),Ct()+t,!1)}function tS(t,e,n,r){if(!r)if(3==(3&e[$])){const o=t.preOrderCheckHooks;null!==o&&Vu(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Uu(e,o,0,n)}Mi(n)}function oS(t,e=null,n=null,r){const i=sS(t,e,n,r);return i.resolveInjectorInitializers(),i}function sS(t,e=null,n=null,r,i=new Set){const o=[n||te,jH(t)];return r=r||("object"==typeof t?void 0:qe(t)),new Np(o,e||cc(),r||null,i)}let ln=(()=>{class t{static create(n,r){if(Array.isArray(n))return oS({name:""},r,n,"");{const i=n.name??"";return oS({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=na,t.NULL=new ST,t.\u0275prov=N({token:t,providedIn:"any",factory:()=>R(DT)}),t.__NG_ELEMENT_ID__=-1,t})();function w(t,e=k.Default){const n=E();return null===n?R(t,e):CD(at(),n,B(t),e)}function vc(t,e,n,r,i,o,s,a,l,u,c){const d=e.blueprint.slice();return d[Ke]=i,d[$]=140|r,(null!==u||t&&2048&t[$])&&(d[$]|=2048),YI(d),d[Ie]=d[Mo]=t,d[xe]=n,d[Ti]=s||t&&t[Ti],d[j]=a||t&&t[j],d[Ao]=l||t&&t[Ao]||null,d[ft]=o,d[ua]=function GB(){return WB++}(),d[pr]=c,d[kI]=u,d[Oe]=2==e.type?t[Oe]:d,d}function Qo(t,e,n,r,i){let o=t.data[e];if(null===o)o=function zp(t,e,n,r,i){const o=tD(),s=Bf(),l=t.data[e]=function x2(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function ko(){return null!==V.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function qU(){return V.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function da(){const t=V.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return jn(o,!0),o}function Na(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function lS(t,e,n,r,i){const o=ZT(e,Au),s=Ct(),a=2&r;try{if(Mi(-1),a&&e.length>X&&tS(t,e,X,!1),$n(a?2:0,i),a)o.runInContext(n,r,i);else{const u=tt(null);try{n(r,i)}finally{tt(u)}}}finally{a&&null===e[Au]&&eS(e,Au),Mi(s),$n(a?3:1,i)}}function qp(t,e,n){if(kf(e)){const r=tt(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{tt(r)}}}function Kp(t,e,n){eD()&&(function H2(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Si(n)&&function K2(t,e,n){const r=Pt(e,t),i=uS(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Ec(t,vc(t,i,null,s,r,e,null,t[Ti].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ju(n,e),gt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],u=Ri(e,t,a,n);gt(u,e),null!==s&&Y2(0,a-i,u,l,0,s),wn(l)&&(qt(n.index,e)[xe]=Ri(e,t,a,n))}}(t,e,n,Pt(n,e)),64==(64&n.flags)&&pS(t,e,n))}function Yp(t,e,n=Pt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function uS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Qp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Qp(t,e,n,r,i,o,s,a,l,u,c){const d=X+r,h=d+i,f=function A2(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:W);return n}(d,h),p="function"==typeof u?u():u;return f[A]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}let cS=t=>null;function dS(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?hS(n,e,i,o):r.hasOwnProperty(i)&&hS(n,e,r[i],o)}return n}function hS(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Jp(t,e,n,r){if(eD()){const i=null===r?null:{"":-1},o=function j2(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(SI(e,s.selectors,!1))if(r||(r=[]),wn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Xp(t,e,a.length)}else r.unshift(s),Xp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&fS(t,e,n,s,i,a),i&&function W2(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new C(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=oa(n.mergedAttrs,n.attrs)}function fS(t,e,n,r,i,o){for(let u=0;u<r.length;u++)Xf(ju(n,e),t,r[u].type);!function z2(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=Na(t,e,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];n.mergedAttrs=oa(n.mergedAttrs,c.hostAttrs),q2(t,n,e,l,c),G2(l,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function O2(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,u=null;for(let c=e.directiveStart;c<i;c++){const d=o[c],h=n?n.get(d):null,p=h?h.outputs:null;l=dS(d.inputs,c,l,h?h.inputs:null),u=dS(d.outputs,c,u,p);const g=null===l||null===s||TI(e)?null:Q2(l,c,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,o)}function pS(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function YU(){return V.lFrame.currentDirectiveIndex}();try{Mi(o);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];$f(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&$2(l,u)}}finally{Mi(-1),$f(s)}}function $2(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Xp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function G2(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;wn(e)&&(n[""]=t)}}function q2(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Ai(i.type)),s=new ha(o,wn(i),w);t.blueprint[r]=s,n[r]=s,function U2(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function B2(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Na(t,n,i.hostVars,W),i)}function zn(t,e,n,r,i,o){const s=Pt(t,e);!function Zp(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?H(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[j],s,o,t.value,n,r,i)}function Y2(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)gS(r,n,s[a++],s[a++],s[a++])}function gS(t,e,n,r,i){const o=tt(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{tt(o)}}function Q2(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function mS(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function _S(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];Wf(n[r]),s.contentQueries(2,e[o],o)}}}function Ec(t,e){return t[aa]?t[PI][Cn]=e:t[aa]=e,t[PI]=e,e}function eg(t,e,n){Wf(0);const r=tt(null);try{e(t,n)}finally{tt(r)}}function CS(t,e){const n=t[Ao],r=n?n.get(ki,null):null;r&&r.handleError(e)}function tg(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];gS(t.data[s],e[s],r,a,i)}}function J2(t,e){const n=qt(e,t),r=n[A];!function X2(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ke];null!==i&&null===n[pr]&&(n[pr]=LT(i,n[Ao])),ng(r,n,n[xe])}function ng(t,e,n){Gf(e);try{const r=t.viewQuery;null!==r&&eg(1,r,n);const i=t.template;null!==i&&lS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_S(t,e),t.staticViewQueries&&eg(2,t.viewQuery,n);const o=t.components;null!==o&&function Z2(t,e){for(let n=0;n<e.length;n++)J2(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[$]&=-5,zf()}}let wS=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new bU(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=N({token:t,providedIn:"root",factory:()=>new t}),t})();function Cc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Cf(i,a):2==o&&(r=Cf(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Pa(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(ve(o)),Nt(o)){for(let a=pt;a<o.length;a++){const l=o[a],u=l[A].firstChild;null!==u&&Pa(l[A],l,u,r)}o[Bn]!==o[Ke]&&r.push(o[Bn])}const s=n.type;if(8&s)Pa(t,e,n.child,r);else if(32&s){const a=cp(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=aT(e,n);if(Array.isArray(a))r.push(...a);else{const l=va(e[Oe]);Pa(l[A],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function wc(t,e,n,r=!0){const i=e[Ti].rendererFactory;i.begin&&i.begin();try{bS(t,e,t.template,n)}catch(s){throw r&&CS(e,s),s}finally{i.end&&i.end(),e[Ti].effectManager?.flush()}}function bS(t,e,n,r){const i=e[$];if(256!=(256&i)){e[Ti].effectManager?.flush(),Gf(e);try{YI(e),function rD(t){return V.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&lS(t,e,n,2,r);const s=3==(3&i);if(s){const u=t.preOrderCheckHooks;null!==u&&Vu(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Uu(e,u,0,null),qf(e,0)}if(function i$(t){for(let e=KD(t);null!==e;e=YD(e)){if(!e[xI])continue;const n=e[No];for(let r=0;r<n.length;r++){xU(n[r])}}}(e),IS(e,2),null!==t.contentQueries&&_S(t,e),s){const u=t.contentCheckHooks;null!==u&&Vu(e,u)}else{const u=t.contentHooks;null!==u&&Uu(e,u,1),qf(e,1)}!function S2(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=ZT(e,Mu);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Mi(~o);else{const s=o,a=n[++i],l=n[++i];KU(a,s),r.runInContext(l,2,e[s])}}}finally{null===e[Mu]&&eS(e,Mu),Mi(-1)}}(t,e);const a=t.components;null!==a&&TS(e,a,0);const l=t.viewQuery;if(null!==l&&eg(2,l,r),s){const u=t.viewCheckHooks;null!==u&&Vu(e,u)}else{const u=t.viewHooks;null!==u&&Uu(e,u,2),qf(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[$]&=-73,QI(e)}finally{zf()}}}function IS(t,e){for(let n=KD(t);null!==n;n=YD(n))for(let r=pt;r<n.length;r++)DS(n[r],e)}function o$(t,e,n){DS(qt(e,t),n)}function DS(t,e){if(!function PU(t){return 128==(128&t[$])}(t))return;const n=t[A];if(80&t[$]&&0===e||1024&t[$]||2===e)bS(n,t,n.template,t[xe]);else if(t[sa]>0){IS(t,1);const i=t[A].components;null!==i&&TS(t,i,1)}}function TS(t,e,n){for(let r=0;r<e.length;r++)o$(t,e[r],n)}class ka{get rootNodes(){const e=this._lView,n=e[A];return Pa(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xe]}set context(e){this._lView[xe]=e}get destroyed(){return 256==(256&this._lView[$])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ie];if(Nt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(hp(e,r),zu(n,r))}this._attachedToViewContainer=!1}ZD(this._lView[A],this._lView)}onDestroy(e){!function XI(t,e){if(256==(256&t[$]))throw new C(911,!1);null===t[Gr]&&(t[Gr]=[]),t[Gr].push(e)}(this._lView,e)}markForCheck(){Ra(this._cdRefInjectingView||this._lView)}detach(){this._lView[$]&=-129}reattach(){this._lView[$]|=128}detectChanges(){wc(this._lView[A],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oH(t,e){Ca(t,e,e[j],2,null,null)}(this._lView[A],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e}}class s$ extends ka{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;wc(e[A],e,e[xe],!1)}checkNoChanges(){}get context(){return null}}class SS extends mc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=oe(e);return new xa(n,this.ngModule)}}function AS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class l${constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Du(r);const i=this.injector.get(e,Wp,r);return i!==Wp||n===Wp?i:this.parentInjector.get(e,n,r)}}class xa extends BT{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=AS(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return AS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function iU(t){return t.map(rU).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Gn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new l$(e,o):e,a=s.get($T,null);if(null===a)throw new C(407,!1);const c={rendererFactory:a,sanitizer:s.get(f2,null),effectManager:s.get(wS,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function M2(t,e,n,r){const o=r.get(zT,!1)||n===jt.ShadowDom,s=t.selectRootElement(e,o);return function R2(t){cS(t)}(s),s}(d,r,this.componentDef.encapsulation,s):nc(d,h,function a$(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),m=this.componentDef.signals?4608:this.componentDef.onPush?576:528,v=Qp(0,null,null,1,0,null,null,null,null,null,null),_=vc(null,v,null,m,null,null,c,d,s,null,null);let I,P;Gf(_);try{const F=this.componentDef;let Me,wo=null;F.findHostDirectiveDefs?(Me=[],wo=new Map,F.findHostDirectiveDefs(F,Me,wo),Me.push(F)):Me=[F];const Vb=function c$(t,e){const n=t[A],r=X;return t[r]=e,Qo(n,r,2,"#host",null)}(_,f),hu=function d$(t,e,n,r,i,o,s){const a=i[A];!function h$(t,e,n,r){for(const i of t)e.mergedAttrs=oa(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Cc(e,e.mergedAttrs,!0),null!==n&&dT(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=LT(e,i[Ao]));const u=o.rendererFactory.createRenderer(e,n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const d=vc(i,uS(n),null,c,i[t.index],t,o,u,null,null,l);return a.firstCreatePass&&Xp(a,t,r.length-1),Ec(i,d),i[t.index]=d}(Vb,f,F,Me,_,c,d);P=KI(v,X),f&&function p$(t,e,n,r){if(r)Rf(t,n,["ng-version",jT.full]);else{const{attrs:i,classes:o}=function oU(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!En(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Rf(t,n,i),o&&o.length>0&&cT(t,n,o.join(" "))}}(d,F,f,r),void 0!==n&&function g$(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(P,this.ngContentSelectors,n),I=function f$(t,e,n,r,i,o){const s=at(),a=i[A],l=Pt(s,i);fS(a,i,s,n,null,r);for(let c=0;c<n.length;c++)gt(Ri(i,a,s.directiveStart+c,s),i);pS(a,i,s),l&&gt(l,i);const u=Ri(i,a,s.directiveStart+s.componentOffset,s);if(t[xe]=i[xe]=u,null!==o)for(const c of o)c(u,e);return qp(a,s,t),u}(hu,F,Me,wo,_,[m$]),ng(v,_,null)}finally{zf()}return new u$(this.componentType,I,qo(P,_),_,P)}}class u$ extends a2{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new s$(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;tg(o[A],o,i,e,n),this.previousInputValues.set(e,n),Ra(qt(this._tNode.index,o))}}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function m$(){const t=at();Lu(E()[A],t)}function ue(t){let e=function MS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(wn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=bc(t.inputs),s.inputTransforms=bc(t.inputTransforms),s.declaredInputs=bc(t.declaredInputs),s.outputs=bc(t.outputs);const a=i.hostBindings;a&&E$(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&y$(t,l),u&&v$(t,u),vu(t.inputs,i.inputs),vu(t.declaredInputs,i.declaredInputs),vu(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),vu(s.inputTransforms,i.inputTransforms)),wn(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===ue&&(n=!1)}}e=Object.getPrototypeOf(e)}!function _$(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=oa(i.hostAttrs,n=oa(n,i.hostAttrs))}}(r)}function bc(t){return t===Vn?{}:t===te?[]:t}function y$(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function v$(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function E$(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Ic(t){return!!function rg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function mt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Kn(t,e,n,r){const i=E();return mt(i,xo(),e)&&(ee(),zn(De(),i,t,e,n,r)),Kn}function Mc(t,e,n,r,i,o,s,a){const l=E(),u=ee(),c=t+X,d=u.firstCreatePass?function G$(t,e,n,r,i,o,s,a,l){const u=e.consts,c=Qo(e,t,4,s||null,zr(u,a));Jp(e,n,c,zr(u,l)),Lu(e,c);const d=c.tView=Qp(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,r,i,o,s):u.data[c];jn(d,!1);const h=zS(u,l,d,t);Fu()&&ic(u,l,h,d),gt(h,l),Ec(l,l[c]=mS(h,l,h,d)),Nu(d)&&Kp(u,l,d),null!=s&&Yp(l,d,a)}let zS=function qS(t,e,n,r){return qr(!0),e[j].createComment("")};function Oi(t,e,n){const r=E();return mt(r,xo(),e)&&function Qt(t,e,n,r,i,o,s,a){const l=Pt(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(tg(t,n,c,r,i),Si(e)&&function L2(t,e){const n=qt(e,t);16&n[$]||(n[$]|=64)}(n,e.index)):3&e.type&&(r=function F2(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}(ee(),De(),r,t,e,r[j],n,!1),Oi}function ug(t,e,n,r,i){const s=i?"class":"style";tg(t,n,e.inputs[s],s,r)}function Ue(t,e,n,r){const i=E(),o=ee(),s=X+t,a=i[j],l=o.firstCreatePass?function Q$(t,e,n,r,i,o){const s=e.consts,l=Qo(e,t,2,r,zr(s,i));return Jp(e,n,l,zr(s,o)),null!==l.attrs&&Cc(l,l.attrs,!1),null!==l.mergedAttrs&&Cc(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],u=KS(o,i,l,a,e,t);i[s]=u;const c=Nu(l);return jn(l,!0),dT(a,u,l),32!=(32&l.flags)&&Fu()&&ic(o,i,u,l),0===function FU(){return V.lFrame.elementDepthCount}()&&gt(u,i),function LU(){V.lFrame.elementDepthCount++}(),c&&(Kp(o,i,l),qp(o,l,i)),null!==r&&Yp(i,l),Ue}function Qe(){let t=at();Bf()?function Hf(){V.lFrame.isParent=!1}():(t=t.parent,jn(t,!1));const e=t;(function UU(t){return V.skipHydrationRootTNode===t})(e)&&function jU(){V.skipHydrationRootTNode=null}(),function VU(){V.lFrame.elementDepthCount--}();const n=ee();return n.firstCreatePass&&(Lu(n,t),kf(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function sB(t){return 0!=(8&t.flags)}(e)&&ug(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function aB(t){return 0!=(16&t.flags)}(e)&&ug(n,e,E(),e.stylesWithoutHost,!1),Qe}function Yr(t,e,n,r){return Ue(t,e,n,r),Qe(),Yr}let KS=(t,e,n,r,i,o)=>(qr(!0),nc(r,i,function dD(){return V.lFrame.currentNamespace}()));function Ua(t){return!!t&&"function"==typeof t.then}function JS(t){return!!t&&"function"==typeof t.subscribe}function Ft(t,e,n,r){const i=E(),o=ee(),s=at();return function ZS(t,e,n,r,i,o,s){const a=Nu(r),u=t.firstCreatePass&&function vS(t){return t.cleanup||(t.cleanup=[])}(t),c=e[xe],d=function yS(t){return t[So]||(t[So]=[])}(e);let h=!0;if(3&r.type||s){const g=Pt(r,e),m=s?s(g):g,v=d.length,_=s?P=>s(ve(P[r.index])):r.index;let I=null;if(!s&&a&&(I=function rj(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[So],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,h=!1;else{o=tA(r,e,c,o,!1);const P=n.listen(m,i,o);d.push(o,P),u&&u.push(i,_,v,v+1)}}else o=tA(r,e,c,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const F=e[p[m]][p[m+1]].subscribe(o),Me=d.length;d.push(o,F),u&&u.push(i,r.index,Me,-(Me+1))}}}(o,i,i[j],s,t,e,r),Ft}function eA(t,e,n,r){try{return $n(6,e,n),!1!==n(r)}catch(i){return CS(t,i),!1}finally{$n(7,e,n)}}function tA(t,e,n,r,i){return function o(s){if(s===Function)return r;Ra(t.componentOffset>-1?qt(t.index,e):e);let l=eA(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=eA(e,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function nA(t=1){return function JU(t){return(V.lFrame.contextLView=function XU(t,e){for(;t>0;)e=e[Mo],t--;return e}(t,V.lFrame.contextLView))[xe]}(t)}function Rc(t,e){return t<<17|e<<2}function Qr(t){return t>>17&32767}function fg(t){return 2|t}function Fi(t){return(131068&t)>>2}function pg(t,e){return-131069&t|e<<2}function gg(t){return 1|t}function hA(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Qr(o):Fi(o),l=!1;for(;0!==a&&(!1===l||s);){const c=t[a+1];hj(t[a],e)&&(l=!0,t[a+1]=r?gg(c):fg(c)),a=r?Qr(c):Fi(c)}l&&(t[n+1]=r?fg(o):gg(o))}function hj(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ho(t,e)>=0}function Nc(t,e,n){return bn(t,e,n,!1),Nc}function Pc(t,e){return bn(t,e,null,!0),Pc}function bn(t,e,n,r){const i=E(),o=ee(),s=function mr(t){const e=V.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function EA(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ct()],s=function vA(t,e){return e>=t.expandoStartIndex}(t,n);(function IA(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function Cj(t,e,n,r){const i=function jf(t){const e=V.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ba(n=mg(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=mg(i,t,e,n,r),null===o){let l=function wj(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Fi(r))return t[Qr(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=mg(null,t,e,l[1],r),l=Ba(l,e.attrs,r),function bj(t,e,n,r){t[Qr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else o=function Ij(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ba(r,t[o].hostAttrs,n);return Ba(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function cj(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Qr(s),l=Fi(s);t[r]=n;let c,u=!1;if(Array.isArray(n)?(c=n[1],(null===c||Ho(n,c)>0)&&(u=!0)):c=n,i)if(0!==l){const h=Qr(t[a+1]);t[r+1]=Rc(h,a),0!==h&&(t[h+1]=pg(t[h+1],r)),t[a+1]=function lj(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Rc(a,0),0!==a&&(t[a+1]=pg(t[a+1],r)),a=r;else t[r+1]=Rc(l,0),0===a?a=r:t[l+1]=pg(t[l+1],r),l=r;u&&(t[r+1]=fg(t[r+1])),hA(t,c,r,!0),hA(t,c,r,!1),function dj(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Ho(o,e)>=0&&(n[r+1]=gg(n[r+1]))}(e,c,t,r,o),s=Rc(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==W&&mt(i,s,e)&&function wA(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const l=t.data,u=l[a+1],c=function uj(t){return 1==(1&t)}(u)?bA(l,e,n,i,Fi(u),s):void 0;kc(c)||(kc(o)||function aj(t){return 2==(2&t)}(u)&&(o=bA(l,null,n,i,a,s)),function gH(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:xt.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=xt.Important),t.setStyle(n,r,i,o))}}(r,s,Ou(Ct(),n),i,o))}(o,o.data[Ct()],i,i[j],t,i[s+1]=function Aj(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=qe(function Kr(t){return t instanceof gT?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,s)}function mg(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ba(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ba(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Kt(t,s,!!n||e[++o]))}return void 0===t?null:t}function bA(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const l=t[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=n[i+1];h===W&&(h=d?te:void 0);let f=d?tp(h,r):c===r?h:void 0;if(u&&!kc(f)&&(f=tp(l,r)),kc(f)&&(a=f,s))return a;const p=t[i+1];i=s?Qr(p):Fi(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=tp(l,r))}return a}function kc(t){return void 0!==t}function Dn(t,e=""){const n=E(),r=ee(),i=t+X,o=r.firstCreatePass?Qo(r,i,1,e,null):r.data[i],s=DA(r,n,o,e,t);n[i]=s,Fu()&&ic(r,n,s,o),jn(o,!1)}let DA=(t,e,n,r,i)=>(qr(!0),function tc(t,e){return t.createText(e)}(e[j],r));function _g(t){return xc("",t,""),_g}function xc(t,e,n){const r=E(),i=function Xo(t,e,n,r){return mt(t,xo(),n)?e+H(n)+r:W}(r,t,e,n);return i!==W&&function wr(t,e,n){const r=Ou(e,t);!function JD(t,e,n){t.setValue(e,n)}(t[j],r,n)}(r,Ct(),i),xc}const ls="en-US";let qA=ls;function Eg(t,e,n,r,i){if(t=B(t),Array.isArray(t))for(let o=0;o<t.length;o++)Eg(t[o],e,n,r,i);else{const o=ee(),s=E();let a=Pi(t)?t:B(t.provide),l=PT(t);const u=at(),c=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(Pi(t)||!t.multi){const f=new ha(l,i,w),p=wg(a,e,i?c:c+h,d);-1===p?(Xf(ju(u,s),o,a),Cg(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=wg(a,e,c+h,d),p=wg(a,e,c,c+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){Xf(ju(u,s),o,a);const v=function KW(t,e,n,r,i){const o=new ha(t,n,w);return o.multi=[],o.index=e,o.componentProviders=0,v0(o,i,r&&!n),o}(i?qW:zW,n.length,i,r,l);!i&&m&&(n[p].providerFactory=v),Cg(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(v),s.push(v)}else Cg(o,t,f>-1?f:p,v0(n[i?p:f],l,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Cg(t,e,n,r){const i=Pi(e),o=function GH(t){return!!t.useClass}(e);if(i||o){const l=(o?B(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=u.indexOf(n);-1===c?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function v0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function wg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function zW(t,e,n,r){return bg(this.multi,[])}function qW(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ri(n,n[A],this.providerFactory.index,r);o=a.slice(0,s),bg(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],bg(i,o);return o}function bg(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ee(t,e=[]){return n=>{n.providersResolver=(r,i)=>function GW(t,e,n){const r=ee();if(r.firstCreatePass){const i=wn(t);Eg(n,r.data,r.blueprint,i,!0),Eg(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class us{}class E0{}class Ig extends us{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new SS(this);const i=Gt(e);this._bootstrapComponents=Er(i.bootstrap),this._r3Injector=sS(e,n,[{provide:us,useValue:this},{provide:mc,useValue:this.componentFactoryResolver},...r],qe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Dg extends E0{constructor(e){super(),this.moduleType=e}create(e){return new Ig(this.moduleType,e,[])}}class C0 extends us{constructor(e){super(),this.componentFactoryResolver=new SS(this),this.instance=null;const n=new Np([...e.providers,{provide:us,useValue:this},{provide:mc,useValue:this.componentFactoryResolver}],e.parent||cc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Tg(t,e,n=null){return new C0({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let JW=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=AT(0,n.type),i=r.length>0?Tg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=N({token:t,providedIn:"environment",factory:()=>new t(R(Gn))}),t})();function w0(t){t.getStandaloneInjector=e=>e.get(JW).getOrCreateStandaloneInjector(t)}function Ag(t){return e=>{setTimeout(t,void 0,e)}}const Ne=class bG extends cr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Ag(o),i&&(i=Ag(i)),s&&(s=Ag(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ht&&e.add(a),a}};let br=(()=>{class t{}return t.__NG_ELEMENT_ID__=SG,t})();const DG=br,TG=class extends DG{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const s=this._declarationTContainer.tView,a=vc(this._declarationLView,s,e,4096&this._declarationLView[$]?4096:16,null,s.declTNode,null,null,null,n||null,r||null);a[la]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[Un];return null!==u&&(a[Un]=u.createEmbeddedView(s)),ng(s,a,e),new ka(a)}};function SG(){return function Uc(t,e){return 4&t.type?new TG(e,t,qo(t,e)):null}(at(),E())}let Tn=(()=>{class t{}return t.__NG_ELEMENT_ID__=xG,t})();function xG(){return function U0(t,e){let n;const r=e[t.index];return Nt(r)?n=r:(n=mS(r,e,null,t),e[t.index]=n,Ec(e,n)),B0(n,e,t,r),new L0(n,t,e)}(at(),E())}const OG=Tn,L0=class extends OG{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qo(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Jf(this._hostTNode,this._hostLView);if(gD(e)){const n=Hu(e,this._hostLView),r=Bu(e);return new Fo(n[A].data[r+8],n)}return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=V0(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function pa(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const l=s?e:new xa(oe(e)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const m=(s?u:this.parentInjector).get(Gn,null);m&&(o=m)}oe(l.componentType??{});const f=l.create(u,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,o=i[A];if(function kU(t){return Nt(t[Ie])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const u=i[Ie],c=new L0(u,u[ft],u[Ie]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;if(function aH(t,e,n,r){const i=pt+r,o=n.length;r>0&&(n[i-1][Cn]=e),r<o-pt?(e[Cn]=n[i],SD(n,pt+r,e)):(n.push(e),e[Cn]=null),e[Ie]=n;const s=e[la];null!==s&&n!==s&&function lH(t,e){const n=t[No];e[Oe]!==e[Ie][Ie][Oe]&&(t[xI]=!0),null===n?t[No]=[e]:n.push(e)}(s,e);const a=e[Un];null!==a&&a.insertView(t),e[$]|=128}(o,i,a,s),!r){const l=mp(s,a),u=i[j],c=rc(u,a[Bn]);null!==c&&function iH(t,e,n,r,i,o){r[Ke]=i,r[ft]=e,Ca(t,r,n,1,i,o)}(o,a[ft],u,i,c,l)}return e.attachToViewContainerRef(),SD(Ng(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=V0(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=hp(this._lContainer,n);r&&(zu(Ng(this._lContainer),n),ZD(r[A],r))}detach(e){const n=this._adjustIndex(e,-1),r=hp(this._lContainer,n);return r&&null!=zu(Ng(this._lContainer),n)?new ka(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function V0(t){return t[8]}function Ng(t){return t[8]||(t[8]=[])}let B0=function H0(t,e,n,r){if(t[Bn])return;let i;i=8&n.type?ve(r):function FG(t,e){const n=t[j],r=n.createComment(""),i=Pt(e,t);return Ni(n,rc(n,i),r,function hH(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Bn]=i};const $g=new T("Application Initializer");let jg=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=M($g,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Ua(o))n.push(o);else if(JS(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hM=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ir=new T("LocaleId",{providedIn:"root",factory:()=>M(Ir,k.Optional|k.SkipSelf)||function fz(){return typeof $localize<"u"&&$localize.locale||ls}()});let Hc=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class gz{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let fM=(()=>{class t{compileModuleSync(n){return new Dg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Er(Gt(n).declarations).reduce((s,a)=>{const l=oe(a);return l&&s.push(new xa(l)),s},[]);return new gz(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function mM(...t){}class ge{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ne(!1),this.onMicrotaskEmpty=new Ne(!1),this.onStable=new Ne(!1),this.onError=new Ne(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function yz(){const t="function"==typeof he.requestAnimationFrame;let e=he[t?"requestAnimationFrame":"setTimeout"],n=he[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Cz(t){const e=()=>{!function Ez(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(he,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gg(t),t.isCheckStableRunning=!0,Wg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return _M(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),yM(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return _M(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),yM(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Gg(t),Wg(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ge.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(ge.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,vz,mM,mM);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const vz={};function Wg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _M(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yM(t){t._nesting--,Wg(t)}class wz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ne,this.onMicrotaskEmpty=new Ne,this.onStable=new Ne,this.onError=new Ne}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const vM=new T("",{providedIn:"root",factory:EM});function EM(){const t=M(ge);let e=!0;return function MV(...t){const e=ta(t),n=function wV(t,e){return"number"==typeof vf(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?rn(r[0]):Io(n)(ze(r,e)):Fn}(new be(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new be(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{ge.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(cI()))}const CM=new T(""),$c=new T("");let Kg,zg=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kg||(function bz(t){Kg=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(R(ge),R(qg),R($c))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t})(),qg=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Kg?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Jr=null;const wM=new T("AllowMultipleToken"),Yg=new T("PlatformDestroyListeners"),Qg=new T("appBootstrapListener");class IM{constructor(e,n){this.name=e,this.token=n}}function TM(t,e,n=[]){const r=`Platform: ${e}`,i=new T(r);return(o=[])=>{let s=Jg();if(!s||s.injector.get(wM,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function Tz(t){if(Jr&&!Jr.get(wM,!1))throw new C(400,!1);(function bM(){!function CU(t){BI=t}(()=>{throw new C(600,!1)})})(),Jr=t;const e=t.get(AM);(function DM(t){t.get(kT,null)?.forEach(n=>n())})(t)}(function SM(t=[],e){return ln.create({name:e,providers:[{provide:Mp,useValue:"platform"},{provide:Yg,useValue:new Set([()=>Jr=null])},...t]})}(a,r))}return function Az(t){const e=Jg();if(!e)throw new C(401,!1);return e}()}}function Jg(){return Jr?.get(AM)??null}let AM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Mz(t="zone.js",e){return"noop"===t?new wz:"zone.js"===t?new ge(e):t}(r?.ngZone,function MM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function QW(t,e,n){return new Ig(t,e,n)}(n.moduleType,this.injector,function xM(t){return[{provide:ge,useFactory:t},{provide:Ta,multi:!0,useFactory:()=>{const e=M(Nz,{optional:!0});return()=>e.initialize()}},{provide:kM,useFactory:Rz},{provide:vM,useFactory:EM}]}(()=>i)),s=o.injector.get(ki,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{jc(this._modules,o),a.unsubscribe()})}),function RM(t,e,n){try{const r=n();return Ua(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(jg);return a.runInitializers(),a.donePromise.then(()=>(function KA(t){on(t,"Expected localeId to be defined"),"string"==typeof t&&(qA=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ir,ls)||ls),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=NM({},r);return function Iz(t,e,n){const r=new Dg(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(hs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new C(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Yg,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(R(ln))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function NM(t,e){return Array.isArray(e)?e.reduce(NM,t):{...t,...e}}let hs=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=M(kM),this.zoneIsStable=M(vM),this.componentTypes=[],this.components=[],this.isStable=M(Hc).hasPendingTasks.pipe(vn(n=>n?L(!1):this.zoneIsStable),function RV(t,e=$r){return t=t??NV,et((n,r)=>{let i,o=!0;n.subscribe(Ge(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),cI()),this._injector=M(Gn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof BT;if(!this._injector.get(jg).done)throw!i&&function To(t){const e=oe(t)||ht(t)||Rt(t);return null!==e&&e.standalone}(n),new C(405,!1);let s;s=i?n:this._injector.get(mc).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function Dz(t){return t.isBoundToModule}(s)?void 0:this._injector.get(us),u=s.create(ln.NULL,[],r||s.selector,a),c=u.location.nativeElement,d=u.injector.get(CM,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),jc(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;jc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Qg,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>jc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const kM=new T("",{providedIn:"root",factory:()=>M(ki).handleError.bind(void 0)});function Rz(){const t=M(ge),e=M(ki);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Nz=(()=>{class t{constructor(){this.zone=M(ge),this.applicationRef=M(hs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let Wc=(()=>{class t{}return t.__NG_ELEMENT_ID__=kz,t})();function kz(t){return function xz(t,e,n){if(Si(t)&&!n){const r=qt(t.index,e);return new ka(r,r)}return 47&t.type?new ka(e[Oe],e):null}(at(),E(),16==(16&t))}class VM{constructor(){}supports(e){return Ic(e)}create(e){return new Bz(e)}}const Uz=(t,e)=>e;class Bz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Uz}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<BM(r,i,o)?n:r,a=BM(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,c=l-i;if(u!=c){for(let h=0;h<u;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;c<=p&&p<u&&(o[h]=f+1)}o[s.previousIndex]=c-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Ic(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function S$(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Hz(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new UM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Hz{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $z{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class UM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new $z,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function $M(){return new qc([new VM])}let qc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||$M()),deps:[[t,new Ku,new kt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new C(901,!1)}}return t.\u0275prov=N({token:t,providedIn:"root",factory:$M}),t})();const qz=TM(null,"core",[]);let Kz=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(R(hs))},t.\u0275mod=Wt({type:t}),t.\u0275inj=St({}),t})();function fs(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let im=null;function Xr(){return im}class s3{}const Jt=new T("DocumentToken");let om=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:function(){return M(l3)},providedIn:"platform"}),t})();const a3=new T("Location Initialized");let l3=(()=>{class t extends om{constructor(){super(),this._doc=M(Jt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xr().getBaseHref(this._doc)}onPopState(n){const r=Xr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Xr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function sm(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function QM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Dr(t){return t&&"?"!==t[0]?"?"+t:t}let Ui=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:function(){return M(XM)},providedIn:"root"}),t})();const JM=new T("appBaseHref");let XM=(()=>{class t extends Ui{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(Jt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return sm(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Dr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Dr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Dr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(R(om),R(JM,8))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),u3=(()=>{class t extends Ui{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=sm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(R(om),R(JM,8))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t})(),am=(()=>{class t{constructor(n){this._subject=new Ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function h3(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(QM(ZM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Dr(r))}normalize(n){return t.stripTrailingSlash(function d3(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,ZM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Dr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Dr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Dr,t.joinWithSlash=sm,t.stripTrailingSlash=QM,t.\u0275fac=function(n){return new(n||t)(R(Ui))},t.\u0275prov=N({token:t,factory:function(){return function c3(){return new am(R(Ui))}()},providedIn:"root"}),t})();function ZM(t){return t.replace(/\/index.html$/,"")}function lR(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class J3{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dR=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new J3(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),hR(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{hR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(w(Tn),w(br),w(qc))},t.\u0275dir=U({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function hR(t,e){t.context.$implicit=e.item}let fR=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new X3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){pR("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){pR("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(w(Tn),w(br))},t.\u0275dir=U({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class X3{constructor(){this.$implicit=null,this.ngIf=null}}function pR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${qe(e)}'.`)}let bq=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=St({}),t})();function yR(t){return"server"===t}let Sq=(()=>{class t{}return t.\u0275prov=N({token:t,providedIn:"root",factory:()=>new Aq(R(Jt),window)}),t})();class Aq{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Mq(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vR(this.window.history)||vR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vR(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class ER{}class Xq extends s3{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Im extends Xq{static makeCurrent(){!function o3(t){im||(im=t)}(new Im)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Zq(){return Za=Za||document.querySelector("base"),Za?Za.getAttribute("href"):null}();return null==n?null:function e4(t){sd=sd||document.createElement("a"),sd.setAttribute("href",t);const e=sd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Za=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lR(document.cookie,e)}}let sd,Za=null,n4=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t})();const Dm=new T("EventManagerPlugins");let DR=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(R(Dm),R(ge))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t})();class TR{constructor(e){this._doc=e}}const Tm="ng-app-id";let SR=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yR(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Tm}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Tm),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Tm,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(R(Jt),R(dc),R(xT,8),R(yr))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t})();const Sm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Am=/%COMP%/g,s4=new T("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function MR(t,e){return e.map(n=>n.replace(Am,t))}let RR=(()=>{class t{constructor(n,r,i,o,s,a,l,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=yR(a),this.defaultRenderer=new Mm(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===jt.ShadowDom&&(r={...r,encapsulation:jt.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof PR?i.applyToHost(n):i instanceof Rm&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case jt.Emulated:o=new PR(l,u,r,this.appId,c,s,a,d);break;case jt.ShadowDom:return new c4(l,u,n,r,s,a,this.nonce,d);default:o=new Rm(l,u,r,c,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(R(DR),R(SR),R(dc),R(s4),R(Jt),R(yr),R(ge),R(xT))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t})();class Mm{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Sm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(NR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(NR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Sm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Sm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(xt.DashCase|xt.Important)?e.style.setProperty(n,r,i&xt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&xt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Xr().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function NR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class c4 extends Mm{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=MR(i.id,i.styles);for(const c of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rm extends Mm{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?MR(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class PR extends Rm{constructor(e,n,r,i,o,s,a,l){const u=i+"-"+r.id;super(e,n,r,o,s,a,l,u),this.contentAttr=function a4(t){return"_ngcontent-%COMP%".replace(Am,t)}(u),this.hostAttr=function l4(t){return"_nghost-%COMP%".replace(Am,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let d4=(()=>{class t extends TR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(R(Jt))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t})();const kR=["alt","control","meta","shift"],h4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f4={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let p4=(()=>{class t extends TR{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),kR.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=h4[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kR.forEach(s=>{s!==i&&(0,f4[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(R(Jt))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t})();const OR=[{provide:yr,useValue:"browser"},{provide:kT,useValue:function g4(){Im.makeCurrent()},multi:!0},{provide:Jt,useFactory:function _4(){return function EH(t){vp=t}(document),document},deps:[]}],y4=TM(qz,"browser",OR),v4=new T(""),FR=[{provide:$c,useClass:class t4{addToWindow(e){he.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new C(5103,!1);return o},he.getAllAngularTestabilities=()=>e.getAllTestabilities(),he.getAllAngularRootElements=()=>e.getAllRootElements(),he.frameworkStabilizers||(he.frameworkStabilizers=[]),he.frameworkStabilizers.push(r=>{const i=he.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Xr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:CM,useClass:zg,deps:[ge,qg,$c]},{provide:zg,useClass:zg,deps:[ge,qg,$c]}],LR=[{provide:Mp,useValue:"root"},{provide:ki,useFactory:function m4(){return new ki},deps:[]},{provide:Dm,useClass:d4,multi:!0,deps:[Jt,ge,yr]},{provide:Dm,useClass:p4,multi:!0,deps:[Jt]},RR,SR,DR,{provide:$T,useExisting:RR},{provide:ER,useClass:n4,deps:[]},[]];let E4=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:dc,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(R(v4,12))},t.\u0275mod=Wt({type:t}),t.\u0275inj=St({providers:[...LR,...FR],imports:[bq,Kz]}),t})(),VR=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(R(Jt))},t.\u0275prov=N({token:t,factory:function(n){let r=null;return r=n?new n:function w4(){return new VR(R(Jt))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:S4}=Array,{getPrototypeOf:A4,prototype:M4,keys:R4}=Object;function $R(t){if(1===t.length){const e=t[0];if(S4(e))return{args:e,keys:null};if(function N4(t){return t&&"object"==typeof t&&A4(t)===M4}(e)){const n=R4(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:P4}=Array;function jR(t){return re(e=>function k4(t,e){return P4(e)?t(...e):t(e)}(t,e))}function WR(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let GR=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(w(vr),w(Yt))},t.\u0275dir=U({type:t}),t})(),Bi=(()=>{class t extends GR{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=lt(t)))(r||t)}}(),t.\u0275dir=U({type:t,features:[ue]}),t})();const Jn=new T("NgValueAccessor"),F4={provide:Jn,useExisting:pe(()=>ad),multi:!0},V4=new T("CompositionEventMode");let ad=(()=>{class t extends GR{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function L4(){const t=Xr()?Xr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(w(vr),w(Yt),w(V4,8))},t.\u0275dir=U({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Ft("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Ee([F4]),ue]}),t})();const _t=new T("NgValidators"),ti=new T("NgAsyncValidators");function QR(t){return function ei(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function ld(t){return null}function nN(t){return null!=t}function rN(t){return Ua(t)?ze(t):t}function iN(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function oN(t,e){return e.map(n=>n(t))}function sN(t){return t.map(e=>function B4(t){return!t.validate}(e)?e:n=>e.validate(n))}function Pm(t){return null!=t?function aN(t){if(!t)return null;const e=t.filter(nN);return 0==e.length?null:function(n){return iN(oN(n,e))}}(sN(t)):null}function km(t){return null!=t?function lN(t){if(!t)return null;const e=t.filter(nN);return 0==e.length?null:function(n){return function x4(...t){const e=lI(t),{args:n,keys:r}=$R(t),i=new be(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let c=0;c<s;c++){let d=!1;rn(n[c]).subscribe(Ge(o,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?WR(r,a):a),o.complete())}))}});return e?i.pipe(jR(e)):i}(oN(n,e).map(rN)).pipe(re(iN))}}(sN(t)):null}function uN(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function xm(t){return t?Array.isArray(t)?t:[t]:[]}function ud(t,e){return Array.isArray(t)?t.includes(e):t===e}function hN(t,e){const n=xm(e);return xm(t).forEach(i=>{ud(n,i)||n.push(i)}),n}function fN(t,e){return xm(e).filter(n=>!ud(t,n))}class pN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Pm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=km(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class It extends pN{get formDirective(){return null}get path(){return null}}class ni extends pN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let mN=(()=>{class t extends gN{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(w(ni,2))},t.\u0275dir=U({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Pc("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ue]}),t})();const el="VALID",dd="INVALID",ps="PENDING",tl="DISABLED";function hd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class EN{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===el}get invalid(){return this.status===dd}get pending(){return this.status==ps}get disabled(){return this.status===tl}get enabled(){return this.status!==tl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fN(e,this._rawAsyncValidators))}hasValidator(e){return ud(this._rawValidators,e)}hasAsyncValidator(e){return ud(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ps,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=tl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=el,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===el||this.status===ps)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tl:el}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ps,this._hasOwnPendingAsyncValidator=!0;const n=rN(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?tl:this.errors?dd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ps)?ps:this._anyControlsHaveStatus(dd)?dd:el}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function G4(t){return Array.isArray(t)?Pm(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function z4(t){return Array.isArray(t)?km(t):t||null}(this._rawAsyncValidators)}}const gs=new T("CallSetDisabledState",{providedIn:"root",factory:()=>fd}),fd="always";function nl(t,e,n=fd){(function Bm(t,e){const n=function cN(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(uN(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function dN(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(uN(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();md(e._rawValidators,i),md(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Y4(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&CN(t,e)})}(t,e),function J4(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Q4(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&CN(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function K4(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function md(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function CN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function IN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function DN(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const TN=class extends EN{constructor(e=null,n,r){super(function Lm(t){return(hd(t)?t.validators:t)||null}(n),function Vm(t,e){return(hd(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=DN(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){DN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},o6={provide:ni,useExisting:pe(()=>Gm)},MN=(()=>Promise.resolve())();let Gm=(()=>{class t extends ni{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new TN,this._registered=!1,this.name="",this.update=new Ne,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function jm(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===ad?n=o:function e6(t){return Object.getPrototypeOf(t.constructor)===Bi}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function $m(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){MN.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&fs(r);MN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function pd(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(w(It,9),w(_t,10),w(ti,10),w(Jn,10),w(Wc,8),w(gs,8))},t.\u0275dir=U({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ee([o6]),ue,sn]}),t})();const a6={provide:Jn,useExisting:pe(()=>zm),multi:!0};let zm=(()=>{class t extends Bi{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=lt(t)))(r||t)}}(),t.\u0275dir=U({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&Ft("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[Ee([a6]),ue]}),t})(),RN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=St({}),t})(),Hi=(()=>{class t{constructor(){this._validator=ld}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ld,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=U({type:t,features:[sn]}),t})();const I6={provide:_t,useExisting:pe(()=>yd),multi:!0};let yd=(()=>{class t extends Hi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=fs,this.createValidator=n=>QR}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=lt(t)))(r||t)}}(),t.\u0275dir=U({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Kn("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ee([I6]),ue]}),t})(),R6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=St({imports:[RN]}),t})(),P6=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:gs,useValue:n.callSetDisabledState??fd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=St({imports:[R6]}),t})();function Xm(...t){const e=ta(t),n=lI(t),{args:r,keys:i}=$R(t);if(0===r.length)return ze([],e);const o=new be(function x6(t,e,n=$r){return r=>{KN(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)KN(e,()=>{const u=ze(t[l],e);let c=!1;u.subscribe(Ge(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>WR(i,s):$r));return n?o.pipe(jR(n)):o}function KN(t,e,n){t?dr(n,t,e):e()}const vd=Zs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Zm(...t){return function O6(){return Io(1)}()(ze(t,ta(t)))}function YN(t){return new be(e=>{rn(t()).subscribe(e)})}function il(t,e){const n=de(t)?t:()=>t,r=i=>i.error(n());return new be(e?i=>e.schedule(r,0,i):r)}function e_(){return et((t,e)=>{let n=null;t._refCount++;const r=Ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class QN extends be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ht;const n=this.getSubject();e.add(this.source.subscribe(Ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ht.EMPTY)}return e}refCount(){return e_()(this)}}function ms(t){return t<=0?()=>Fn:et((e,n)=>{let r=0;e.subscribe(Ge(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Sr(t,e){return et((n,r)=>{let i=0;n.subscribe(Ge(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ed(t){return et((e,n)=>{let r=!1;e.subscribe(Ge(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function JN(t=L6){return et((e,n)=>{let r=!1;e.subscribe(Ge(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function L6(){return new vd}function $i(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Sr((i,o)=>t(i,o,r)):$r,ms(1),n?Ed(e):JN(()=>new vd))}function _s(t,e){return de(e)?st(t,e,1):st(t,1)}function yt(t,e,n){const r=de(t)||e||n?{next:t,error:e,complete:n}:t;return r?et((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ge(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):$r}function ji(t){return et((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Ge(n,void 0,void 0,s=>{o=rn(t(s,ji(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function t_(t){return t<=0?()=>Fn:et((e,n)=>{let r=[];e.subscribe(Ge(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ol(t){return et((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const q="primary",sl=Symbol("RouteTitle");class $6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ys(t){return new $6(t)}function j6(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Xn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!XN(t[i],e[i]))return!1;return!0}function XN(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function ZN(t){return t.length>0?t[t.length-1]:null}function ri(t){return function k6(t){return!!t&&(t instanceof be||de(t.lift)&&de(t.subscribe))}(t)?t:Ua(t)?ze(Promise.resolve(t)):L(t)}const G6={exact:function nP(t,e,n){if(!Wi(t.segments,e.segments)||!Cd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!nP(t.children[r],e.children[r],n))return!1;return!0},subset:rP},eP={exact:function z6(t,e){return Xn(t,e)},subset:function q6(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>XN(t[n],e[n]))},ignored:()=>!0};function tP(t,e,n){return G6[n.paths](t.root,e.root,n.matrixParams)&&eP[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function rP(t,e,n){return iP(t,e,e.segments,n)}function iP(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Wi(i,n)||e.hasChildren()||!Cd(i,n,r))}if(t.segments.length===n.length){if(!Wi(t.segments,n)||!Cd(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!rP(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Wi(t.segments,i)&&Cd(t.segments,i,r)&&t.children[q])&&iP(t.children[q],e,o,r)}}function Cd(t,e,n){return e.every((r,i)=>eP[n](t[i].parameters,r.parameters))}class vs{constructor(e=new ce([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ys(this.queryParams)),this._queryParamMap}toString(){return Q6.serialize(this)}}class ce{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wd(this)}}class al{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ys(this.parameters)),this._parameterMap}toString(){return aP(this)}}function Wi(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let ll=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:function(){return new n_},providedIn:"root"}),t})();class n_{parse(e){const n=new a8(e);return new vs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${ul(e.root,!0)}`,r=function Z6(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${bd(n)}=${bd(i)}`).join("&"):`${bd(n)}=${bd(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function J6(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Q6=new n_;function wd(t){return t.segments.map(e=>aP(e)).join("/")}function ul(t,e){if(!t.hasChildren())return wd(t);if(e){const n=t.children[q]?ul(t.children[q],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==q&&r.push(`${i}:${ul(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Y6(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===q&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==q&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===q?[ul(t.children[q],!1)]:[`${i}:${ul(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[q]?`${wd(t)}/${n[0]}`:`${wd(t)}/(${n.join("//")})`}}function oP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bd(t){return oP(t).replace(/%3B/gi,";")}function r_(t){return oP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Id(t){return decodeURIComponent(t)}function sP(t){return Id(t.replace(/\+/g,"%20"))}function aP(t){return`${r_(t.path)}${function X6(t){return Object.keys(t).map(e=>`;${r_(e)}=${r_(t[e])}`).join("")}(t.parameters)}`}const e8=/^[^\/()?;#]+/;function i_(t){const e=t.match(e8);return e?e[0]:""}const t8=/^[^\/()?;=#]+/,r8=/^[^=?&#]+/,o8=/^[^&#]+/;class a8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[q]=new ce(e,n)),r}parseSegment(){const e=i_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new al(Id(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function n8(t){const e=t.match(t8);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=i_(this.remaining);i&&(r=i,this.capture(r))}e[Id(n)]=Id(r)}parseQueryParam(e){const n=function i8(t){const e=t.match(r8);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function s8(t){const e=t.match(o8);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=sP(n),o=sP(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=i_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=q);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[q]:new ce([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}}function lP(t){return t.segments.length>0?new ce([],{[q]:t}):t}function uP(t){const e={};for(const r of Object.keys(t.children)){const o=uP(t.children[r]);if(r===q&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function l8(t){if(1===t.numberOfChildren&&t.children[q]){const e=t.children[q];return new ce(t.segments.concat(e.segments),e.children)}return t}(new ce(t.segments,e))}function Gi(t){return t instanceof vs}function cP(t){let e;const i=lP(function n(o){const s={};for(const l of o.children){const u=n(l);s[l.outlet]=u}const a=new ce(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function dP(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return o_(i,i,i,n,r);const o=function c8(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new fP(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new fP(n,e,r)}(e);if(o.toRoot())return o_(i,i,new ce([],{}),n,r);const s=function d8(t,e,n){if(t.isAbsolute)return new Td(e,!0,0);if(!n)return new Td(e,!1,NaN);if(null===n.parent)return new Td(n,!0,0);const r=Dd(t.commands[0])?0:1;return function h8(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Td(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?dl(s.segmentGroup,s.index,o.commands):pP(s.segmentGroup,s.index,o.commands);return o_(i,s.segmentGroup,a,n,r)}function Dd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function cl(t){return"object"==typeof t&&null!=t&&t.outlets}function o_(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),s=t===e?n:hP(t,e,n);const a=lP(uP(s));return new vs(a,o,i)}function hP(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:hP(o,e,n)}),new ce(t.segments,r)}class fP{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Dd(r[0]))throw new C(4003,!1);const i=r.find(cl);if(i&&i!==ZN(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Td{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function pP(t,e,n){if(t||(t=new ce([],{})),0===t.segments.length&&t.hasChildren())return dl(t,e,n);const r=function p8(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(cl(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!mP(l,u,s))return o;r+=2}else{if(!mP(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new ce(t.segments.slice(0,r.pathIndex),{});return o.children[q]=new ce(t.segments.slice(r.pathIndex),t.children),dl(o,0,i)}return r.match&&0===i.length?new ce(t.segments,{}):r.match&&!t.hasChildren()?s_(t,e,n):r.match?dl(t,0,i):s_(t,e,n)}function dl(t,e,n){if(0===n.length)return new ce(t.segments,{});{const r=function f8(t){return cl(t[0])?t[0].outlets:{[q]:t}}(n),i={};if(!r[q]&&t.children[q]&&1===t.numberOfChildren&&0===t.children[q].segments.length){const o=dl(t.children[q],e,n);return new ce(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=pP(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new ce(t.segments,i)}}function s_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(cl(o)){const l=g8(o.outlets);return new ce(r,l)}if(0===i&&Dd(n[0])){r.push(new al(t.segments[e].path,gP(n[0]))),i++;continue}const s=cl(o)?o.outlets[q]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Dd(a)?(r.push(new al(s,gP(a))),i+=2):(r.push(new al(s,{})),i++)}return new ce(r,{})}function g8(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=s_(new ce([],{}),0,r))}),e}function gP(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function mP(t,e,n){return t==n.path&&Xn(e,n.parameters)}const hl="imperative";class Zn{constructor(e,n){this.id=e,this.url=n}}class a_ extends Zn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zi extends Zn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sd extends Zn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fl extends Zn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class l_ extends Zn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class m8 extends Zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _8 extends Zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y8 extends Zn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class v8 extends Zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E8 extends Zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class w8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class b8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D8{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T8{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _P{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class S8{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pl,this.attachRef=null}}let pl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new S8,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class yP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=u_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=u_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=c_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return c_(e,this._root).map(n=>n.value)}}function u_(t,e){if(t===e.value)return e;for(const n of e.children){const r=u_(t,n);if(r)return r}return null}function c_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=c_(t,n);if(r.length)return r.unshift(e),r}return[]}class Ar{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Es(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class vP extends yP{constructor(e,n){super(e),this.snapshot=n,d_(this,e)}toString(){return this.snapshot.toString()}}function EP(t,e){const n=function A8(t,e){const s=new Ad([],{},{},"",{},q,e,null,{});return new wP("",new Ar(s,[]))}(0,e),r=new nn([new al("",{})]),i=new nn({}),o=new nn({}),s=new nn({}),a=new nn(""),l=new Cs(r,i,s,a,o,q,e,n.root);return l.snapshot=n.root,new vP(new Ar(l,[]),n)}class Cs{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(re(u=>u[sl]))??L(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>ys(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>ys(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CP(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function M8(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ad{get title(){return this.data?.[sl]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ys(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ys(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wP extends yP{constructor(e,n){super(n),this.url=e,d_(this,n)}toString(){return bP(this._root)}}function d_(t,e){e.value._routerState=t,e.children.forEach(n=>d_(t,n))}function bP(t){const e=t.children.length>0?` { ${t.children.map(bP).join(", ")} } `:"";return`${t.value}${e}`}function h_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xn(e.params,n.params)||t.paramsSubject.next(n.params),function W6(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Xn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function f_(t,e){const n=Xn(t.params,e.params)&&function K6(t,e){return Wi(t,e)&&t.every((n,r)=>Xn(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||f_(t.parent,e.parent))}let IP=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=q,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.parentContexts=M(pl),this.location=M(Tn),this.changeDetector=M(Wc),this.environmentInjector=M(Gn),this.inputBinder=M(Md,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new R8(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=U({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[sn]}),t})();class R8{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Cs?this.route:e===pl?this.childContexts:this.parent.get(e,n)}}const Md=new T("");let DP=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Xm([r.queryParams,r.params,r.data]).pipe(vn(([o,s,a],l)=>(a={...o,...s,...a},0===l?L(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function i3(t){const e=oe(t);if(!e)return null;const n=new xa(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t})();function gl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function P8(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return gl(t,r,i);return gl(t,r)})}(t,e,n);return new Ar(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>gl(t,a)),s}}const r=function k8(t){return new Cs(new nn(t.url),new nn(t.params),new nn(t.queryParams),new nn(t.fragment),new nn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>gl(t,o));return new Ar(r,i)}}const p_="ngNavigationCancelingError";function TP(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Gi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=SP(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function SP(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[p_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function AP(t){return MP(t)&&Gi(t.url)}function MP(t){return t&&t[p_]}let RP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Nf({type:t,selectors:[["ng-component"]],standalone:!0,features:[w0],decls:1,vars:0,template:function(n,r){1&n&&Yr(0,"router-outlet")},dependencies:[IP],encapsulation:2}),t})();function g_(t){const e=t.children&&t.children.map(g_),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==q&&(n.component=RP),n}function Rn(t){return t.outlet||q}function ml(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class B8{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),h_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Es(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Es(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Es(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Es(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new T8(o.value.snapshot))}),e.children.length&&this.forwardEvent(new I8(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(h_(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),h_(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=ml(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class NP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rd{constructor(e,n){this.component=e,this.route=n}}function H8(t,e,n){const r=t._root;return _l(r,e?e._root:null,n,[r.value])}function ws(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function VV(t){return null!==wu(t)}(t)?e.get(t):t:r}function _l(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Es(e);return t.children.forEach(s=>{(function j8(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function W8(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Wi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Wi(t.url,e.url)||!Xn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!f_(t,e)||!Xn(t.queryParams,e.queryParams);default:return!f_(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new NP(r)):(o.data=s.data,o._resolvedData=s._resolvedData),_l(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Rd(a.outlet.component,s))}else s&&yl(e,a,i),i.canActivateChecks.push(new NP(r)),_l(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>yl(a,n.getContext(s),i)),i}function yl(t,e,n){const r=Es(t),i=t.value;Object.entries(r).forEach(([o,s])=>{yl(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Rd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function vl(t){return"function"==typeof t}function PP(t){return t instanceof vd||"EmptyError"===t?.name}const Nd=Symbol("INITIAL_VALUE");function bs(){return vn(t=>Xm(t.map(e=>e.pipe(ms(1),function F6(...t){const e=ta(t);return et((n,r)=>{(e?Zm(t,n,e):Zm(t,n)).subscribe(r)})}(Nd)))).pipe(re(e=>{for(const n of e)if(!0!==n){if(n===Nd)return Nd;if(!1===n||n instanceof vs)return n}return!0}),Sr(e=>e!==Nd),ms(1)))}function kP(t){return function BL(...t){return Wb(t)}(yt(e=>{if(Gi(e))throw TP(0,e)}),re(e=>!0===e))}class Pd{constructor(e){this.segmentGroup=e||null}}class xP{constructor(e){this.urlTree=e}}function Is(t){return il(new Pd(t))}function OP(t){return il(new xP(t))}class c5{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new C(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return L(r);if(i.numberOfChildren>1||!i.children[q])return il(new C(4e3,!1));i=i.children[q]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new vs(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new ce(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const m_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function d5(t,e,n,r,i){const o=__(t,e,n);return o.matched?(r=function x8(t,e){return t.providers&&!t._injector&&(t._injector=Tg(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function a5(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?L(i.map(s=>{const a=ws(s,t);return ri(function Q8(t){return t&&vl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(bs(),kP()):L(!0)}(r,e,n).pipe(re(s=>!0===s?o:{...m_}))):L(o)}function __(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...m_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||j6)(n,t,e);if(!i)return{...m_};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function FP(t,e,n,r){return n.length>0&&function p5(t,e,n){return n.some(r=>kd(t,e,r)&&Rn(r)!==q)}(t,n,r)?{segmentGroup:new ce(e,f5(r,new ce(n,t.children))),slicedSegments:[]}:0===n.length&&function g5(t,e,n){return n.some(r=>kd(t,e,r))}(t,n,r)?{segmentGroup:new ce(t.segments,h5(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ce(t.segments,t.children),slicedSegments:n}}function h5(t,e,n,r,i){const o={};for(const s of r)if(kd(t,n,s)&&!i[Rn(s)]){const a=new ce([],{});o[Rn(s)]=a}return{...i,...o}}function f5(t,e){const n={};n[q]=e;for(const r of t)if(""===r.path&&Rn(r)!==q){const i=new ce([],{});n[Rn(r)]=i}return n}function kd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class v5{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new c5(this.urlSerializer,this.urlTree)}noMatchError(e){return new C(4002,!1)}recognize(){const e=FP(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,q).pipe(ji(n=>{if(n instanceof xP)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Pd?this.noMatchError(n):n}),re(n=>{const r=new Ad([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},q,this.rootComponentType,null,{}),i=new Ar(r,n),o=new wP("",i),s=function u8(t,e,n=null,r=null){return dP(cP(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,q).pipe(ji(r=>{throw r instanceof Pd?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=CP(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return ze(i).pipe(_s(o=>{const s=r.children[o],a=function V8(t,e){const n=t.filter(r=>Rn(r)===e);return n.push(...t.filter(r=>Rn(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function U6(t,e){return et(function V6(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(Ge(s,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Ed(null),function B6(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Sr((i,o)=>t(i,o,r)):$r,t_(1),n?Ed(e):JN(()=>new vd))}(),st(o=>{if(null===o)return Is(r);const s=LP(o);return function E5(t){t.sort((e,n)=>e.value.outlet===q?-1:n.value.outlet===q?1:e.value.outlet.localeCompare(n.value.outlet))}(s),L(s)}))}processSegment(e,n,r,i,o,s){return ze(n).pipe(_s(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(ji(l=>{if(l instanceof Pd)return L(null);throw l}))),$i(a=>!!a),ji(a=>{if(PP(a))return function _5(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?L([]):Is(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function m5(t,e,n,r){return!!(Rn(t)===r||r!==q&&kd(e,n,t))&&("**"===t.path||__(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Is(i):Is(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?OP(o):this.applyRedirects.lineralizeSegments(r,o).pipe(st(s=>{const a=new ce(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=__(n,i,o);if(!a)return Is(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?OP(d):this.applyRedirects.lineralizeSegments(i,d).pipe(st(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?ZN(i).parameters:{};a=L({snapshot:new Ad(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VP(r),Rn(r),r.component??r._loadedComponent??null,r,UP(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=d5(n,r,i,e).pipe(re(({matched:l,consumedSegments:u,remainingSegments:c,parameters:d})=>l?{snapshot:new Ad(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VP(r),Rn(r),r.component??r._loadedComponent??null,r,UP(r)),consumedSegments:u,remainingSegments:c}:null));return a.pipe(vn(l=>null===l?Is(n):this.getChildConfig(e=r._injector??e,r,i).pipe(vn(({routes:u})=>{const c=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=FP(n,h,f,u);if(0===g.length&&p.hasChildren())return this.processChildren(c,u,p).pipe(re(v=>null===v?null:[new Ar(d,v)]));if(0===u.length&&0===g.length)return L([new Ar(d,[])]);const m=Rn(r)===o;return this.processSegment(c,u,p,g,m?q:o,!0).pipe(re(v=>[new Ar(d,v)]))}))))}getChildConfig(e,n,r){return n.children?L({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?L({routes:n._loadedRoutes,injector:n._loadedInjector}):function s5(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?L(!0):L(i.map(s=>{const a=ws(s,t);return ri(function z8(t){return t&&vl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(bs(),kP())}(e,n,r).pipe(st(i=>i?this.configLoader.loadChildren(e,n).pipe(yt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function u5(t){return il(SP(!1,3))}())):L({routes:[],injector:e})}}function C5(t){const e=t.value.routeConfig;return e&&""===e.path}function LP(t){const e=[],n=new Set;for(const r of t){if(!C5(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=LP(r.children);e.push(new Ar(r.value,i))}return e.filter(r=>!n.has(r))}function VP(t){return t.data||{}}function UP(t){return t.resolve||{}}function BP(t){return"string"==typeof t.title||null===t.title}function y_(t){return vn(e=>{const n=t(e);return n?ze(n).pipe(re(()=>e)):L(e)})}const Ds=new T("ROUTES");let v_=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(fM)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return L(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ri(n.loadComponent()).pipe(re(HP),yt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ol(()=>{this.componentLoaders.delete(n)})),i=new QN(r,()=>new cr).pipe(e_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return L({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(re(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u;return Array.isArray(a)?u=a:(l=a.create(n).injector,u=l.get(Ds,[],k.Self|k.Optional).flat()),{routes:u.map(g_),injector:l}}),ol(()=>{this.childrenLoaders.delete(r)})),s=new QN(o,()=>new cr).pipe(e_());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return ri(n()).pipe(re(HP),st(r=>r instanceof E0||Array.isArray(r)?L(r):ze(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function HP(t){return function A5(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let xd=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new cr,this.configLoader=M(v_),this.environmentInjector=M(Gn),this.urlSerializer=M(ll),this.rootContexts=M(pl),this.inputBindingEnabled=null!==M(Md,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>L(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new w8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new C8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new nn({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:hl,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Sr(r=>0!==r.id),re(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),vn(r=>{let i=!1,o=!1;return L(r).pipe(yt(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vn(s=>{const a=n.browserUrlTree.toString(),l=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const c="";return this.events.next(new fl(s.id,n.serializeUrl(r.rawUrl),c,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),Fn}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return $P(s.source)&&(n.browserUrlTree=s.extractedUrl),L(s).pipe(vn(c=>{const d=this.transitions?.getValue();return this.events.next(new a_(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?Fn:Promise.resolve(c)}),function w5(t,e,n,r,i,o){return st(s=>function y5(t,e,n,r,i,o,s="emptyOnly"){return new v5(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),yt(c=>{if(r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!c.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);n.setBrowserUrl(h,c)}n.browserUrlTree=c.urlAfterRedirects}const d=new m8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:c,extractedUrl:d,source:h,restoredState:f,extras:p}=s,g=new a_(c,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=EP(0,this.rootComponentType).snapshot;return L(r={...s,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new fl(s.id,n.serializeUrl(r.extractedUrl),c,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),Fn}}),yt(s=>{const a=new _8(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),re(s=>r={...s,guards:H8(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function X8(t,e){return st(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?L({...n,guardsResult:!0}):function Z8(t,e,n,r){return ze(t).pipe(st(i=>function o5(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?L(o.map(a=>{const l=ml(e)??i,u=ws(a,l);return ri(function Y8(t){return t&&vl(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):l.runInContext(()=>u(t,e,n,r))).pipe($i())})).pipe(bs()):L(!0)}(i.component,i.route,n,e,r)),$i(i=>!0!==i,!0))}(s,r,i,t).pipe(st(a=>a&&function G8(t){return"boolean"==typeof t}(a)?function e5(t,e,n,r){return ze(e).pipe(_s(i=>Zm(function n5(t,e){return null!==t&&e&&e(new b8(t)),L(!0)}(i.route.parent,r),function t5(t,e){return null!==t&&e&&e(new D8(t)),L(!0)}(i.route,r),function i5(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function $8(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>YN(()=>L(s.guards.map(l=>{const u=ml(s.node)??n,c=ws(l,u);return ri(function K8(t){return t&&vl(t.canActivateChild)}(c)?c.canActivateChild(r,t):u.runInContext(()=>c(r,t))).pipe($i())})).pipe(bs())));return L(o).pipe(bs())}(t,i.path,n),function r5(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return L(!0);const i=r.map(o=>YN(()=>{const s=ml(e)??n,a=ws(o,s);return ri(function q8(t){return t&&vl(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe($i())}));return L(i).pipe(bs())}(t,i.route,n))),$i(i=>!0!==i,!0))}(r,o,t,e):L(a)),re(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),yt(s=>{if(r.guardsResult=s.guardsResult,Gi(s.guardsResult))throw TP(0,s.guardsResult);const a=new y8(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Sr(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),y_(s=>{if(s.guards.canActivateChecks.length)return L(s).pipe(yt(a=>{const l=new v8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),vn(a=>{let l=!1;return L(a).pipe(function b5(t,e){return st(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return L(n);let o=0;return ze(i).pipe(_s(s=>function I5(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!BP(i)&&(o[sl]=i.title),function D5(t,e,n,r){const i=function T5(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return L({});const o={};return ze(i).pipe(st(s=>function S5(t,e,n,r){const i=ml(e)??r,o=ws(t,i);return ri(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe($i(),yt(a=>{o[s]=a}))),t_(1),function H6(t){return re(()=>t)}(o),ji(s=>PP(s)?Fn:il(s)))}(o,t,e,r).pipe(re(s=>(t._resolvedData=s,t.data=CP(t,n).resolve,i&&BP(i)&&(t.data[sl]=i.title),null)))}(s.route,r,t,e)),yt(()=>o++),t_(1),st(s=>o===i.length?L(n):Fn))})}(n.paramsInheritanceStrategy,this.environmentInjector),yt({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),yt(a=>{const l=new E8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),y_(s=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(yt(c=>{l.component=c}),re(()=>{})));for(const c of l.children)u.push(...a(c));return u};return Xm(a(s.targetSnapshot.root)).pipe(Ed(),ms(1))}),y_(()=>this.afterPreactivation()),re(s=>{const a=function N8(t,e,n){const r=gl(t,e._root,n?n._root:void 0);return new vP(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),yt(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((t,e,n,r)=>re(i=>(new B8(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),ms(1),yt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new zi(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),ol(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ji(s=>{if(o=!0,MP(s)){AP(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Sd(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),AP(s)){const l=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||$P(r.source)};n.scheduleNavigation(l,hl,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new l_(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(l){r.reject(l)}}return Fn}))}))}cancelNavigationTransition(n,r,i){const o=new Sd(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $P(t){return t!==hl}let jP=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===q);return r}getResolvedTitleForRoute(n){return n.data[sl]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:function(){return M(M5)},providedIn:"root"}),t})(),M5=(()=>{class t extends jP{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(R(VR))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),R5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:function(){return M(P5)},providedIn:"root"}),t})();class N5{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let P5=(()=>{class t extends N5{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=lt(t)))(r||t)}}(),t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Od=new T("",{providedIn:"root",factory:()=>({})});let k5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:function(){return M(x5)},providedIn:"root"}),t})(),x5=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Xt=(()=>((Xt=Xt||{})[Xt.COMPLETE=0]="COMPLETE",Xt[Xt.FAILED=1]="FAILED",Xt[Xt.REDIRECTING=2]="REDIRECTING",Xt))();function WP(t,e){t.events.pipe(Sr(n=>n instanceof zi||n instanceof Sd||n instanceof l_||n instanceof fl),re(n=>n instanceof zi||n instanceof fl?Xt.COMPLETE:n instanceof Sd&&(0===n.code||1===n.code)?Xt.REDIRECTING:Xt.FAILED),Sr(n=>n!==Xt.REDIRECTING),ms(1)).subscribe(()=>{e()})}function O5(t){throw t}function F5(t,e,n){return e.parse("/")}const L5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},V5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=M(hM),this.isNgZoneEnabled=!1,this.options=M(Od,{optional:!0})||{},this.pendingTasks=M(Hc),this.errorHandler=this.options.errorHandler||O5,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||F5,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=M(k5),this.routeReuseStrategy=M(R5),this.titleStrategy=M(jP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=M(Ds,{optional:!0})?.flat()??[],this.navigationTransitions=M(xd),this.urlSerializer=M(ll),this.location=M(am),this.componentInputBindingEnabled=!!M(Md,{optional:!0}),this.isNgZoneEnabled=M(ge)instanceof ge&&ge.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=EP(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),hl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(g_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}null!==c&&(c=this.removeEmptyProps(c));try{d=cP(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return dP(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Gi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,hl,null,r)}navigate(n,r={skipLocationChange:!1}){return function U5(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new C(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...L5}:!1===r?{...V5}:r,Gi(n))return tP(this.currentUrlTree,n,i);const o=this.parseUrl(n);return tP(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,l=h});const c=this.pendingTasks.add();return WP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class GP{}let $5=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Sr(n=>n instanceof zi),_s(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Tg(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ze(i).pipe(Io())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):L(null);const o=i.pipe(st(s=>null===s?L(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?ze([o,this.loader.loadComponent(r)]).pipe(Io()):o})}}return t.\u0275fac=function(n){return new(n||t)(R(hn),R(fM),R(Gn),R(GP),R(v_))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const C_=new T("");let zP=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof a_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof zi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof fl&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _P&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _P(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function aS(){throw new Error("invalid")}()},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t})();function Mr(t,e){return{\u0275kind:t,\u0275providers:e}}function KP(){const t=M(ln);return e=>{const n=t.get(hs);if(e!==n.components[0])return;const r=t.get(hn),i=t.get(YP);1===t.get(w_)&&r.initialNavigation(),t.get(QP,null,k.Optional)?.setUpPreloading(),t.get(C_,null,k.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const YP=new T("",{factory:()=>new cr}),w_=new T("",{providedIn:"root",factory:()=>1}),QP=new T("");function z5(t){return Mr(0,[{provide:QP,useExisting:$5},{provide:GP,useExisting:t}])}const JP=new T("ROUTER_FORROOT_GUARD"),K5=[am,{provide:ll,useClass:n_},hn,pl,{provide:Cs,useFactory:function qP(t){return t.routerState.root},deps:[hn]},v_,[]];function Y5(){return new IM("Router",hn)}let b_=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[K5,[],{provide:Ds,multi:!0,useValue:n},{provide:JP,useFactory:Z5,deps:[[hn,new kt,new Ku]]},{provide:Od,useValue:r||{}},r?.useHash?{provide:Ui,useClass:u3}:{provide:Ui,useClass:XM},{provide:C_,useFactory:()=>{const t=M(Sq),e=M(ge),n=M(Od),r=M(xd),i=M(ll);return n.scrollOffset&&t.setOffset(n.scrollOffset),new zP(i,r,t,e,n)}},r?.preloadingStrategy?z5(r.preloadingStrategy).\u0275providers:[],{provide:IM,multi:!0,useFactory:Y5},r?.initialNavigation?e7(r):[],r?.bindToComponentInputs?Mr(8,[DP,{provide:Md,useExisting:DP}]).\u0275providers:[],[{provide:XP,useFactory:KP},{provide:Qg,multi:!0,useExisting:XP}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ds,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(R(JP,8))},t.\u0275mod=Wt({type:t}),t.\u0275inj=St({}),t})();function Z5(t){return"guarded"}function e7(t){return["disabled"===t.initialNavigation?Mr(3,[{provide:$g,multi:!0,useFactory:()=>{const e=M(hn);return()=>{e.setUpLocationChangeListener()}}},{provide:w_,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Mr(2,[{provide:w_,useValue:0},{provide:$g,multi:!0,deps:[ln],useFactory:e=>{const n=e.get(a3,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(hn),o=e.get(YP);WP(i,()=>{r(!0)}),e.get(xd).afterPreactivation=()=>(r(!0),o.closed?L(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const XP=new T("");class Fd{}class Ld{}class er{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof er?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new er;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof er?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class n7{encodeKey(e){return ZP(e)}encodeValue(e){return ZP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const i7=/%(\d[a-f0-9])/gi,o7={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ZP(t){return encodeURIComponent(t).replace(i7,(e,n)=>o7[n]??e)}function Vd(t){return`${t}`}class ii{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new n7,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function r7(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(Vd):[Vd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ii({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Vd(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Vd(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class s7{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ek(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function tk(t){return typeof Blob<"u"&&t instanceof Blob}function nk(t){return typeof FormData<"u"&&t instanceof FormData}class El{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function a7(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new er),this.context||(this.context=new s7),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new ii,this.urlWithParams=n}serializeBody(){return null===this.body?null:ek(this.body)||tk(this.body)||nk(this.body)||function l7(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ii?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nk(this.body)?null:tk(this.body)?this.body.type||null:ek(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ii?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,u=e.params||this.params;const c=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),u)),new El(n,r,o,{params:u,headers:l,context:c,reportProgress:a,responseType:i,withCredentials:s})}}var $e=(()=>(($e=$e||{})[$e.Sent=0]="Sent",$e[$e.UploadProgress=1]="UploadProgress",$e[$e.ResponseHeader=2]="ResponseHeader",$e[$e.DownloadProgress=3]="DownloadProgress",$e[$e.Response=4]="Response",$e[$e.User=5]="User",$e))();class I_{constructor(e,n=200,r="OK"){this.headers=e.headers||new er,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class D_ extends I_{constructor(e={}){super(e),this.type=$e.ResponseHeader}clone(e={}){return new D_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ts extends I_{constructor(e={}){super(e),this.type=$e.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ts({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class rk extends I_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function T_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let ik=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof El)o=n;else{let l,u;l=i.headers instanceof er?i.headers:new er(i.headers),i.params&&(u=i.params instanceof ii?i.params:new ii({fromObject:i.params})),o=new El(n,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=L(o).pipe(_s(l=>this.handler.handle(l)));if(n instanceof El||"events"===i.observe)return s;const a=s.pipe(Sr(l=>l instanceof Ts));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(re(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(re(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(re(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(re(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new ii).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,T_(i,r))}post(n,r,i={}){return this.request("POST",n,T_(i,r))}put(n,r,i={}){return this.request("PUT",n,T_(i,r))}}return t.\u0275fac=function(n){return new(n||t)(R(Fd))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t})();function ak(t,e){return e(t)}function c7(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const h7=new T(""),Cl=new T(""),lk=new T("");function f7(){let t=null;return(e,n)=>{null===t&&(t=(M(h7,{optional:!0})??[]).reduceRight(c7,ak));const r=M(Hc),i=r.add();return t(e,n).pipe(ol(()=>r.remove(i)))}}let uk=(()=>{class t extends Fd{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=M(Hc)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Cl),...this.injector.get(lk,[])]));this.chain=i.reduceRight((o,s)=>function d7(t,e,n){return(r,i)=>n.runInContext(()=>e(r,o=>t(o,i)))}(o,s,this.injector),ak)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ol(()=>this.pendingTasks.remove(r)))}}return t.\u0275fac=function(n){return new(n||t)(R(Ld),R(Gn))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t})();const _7=/^\)\]\}',?\n/;let dk=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new C(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?ze(r.\u0275loadImpl()):L(null)).pipe(vn(()=>new be(o=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,m)=>s.setRequestHeader(g,m.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const g=n.detectContentTypeHeader();null!==g&&s.setRequestHeader("Content-Type",g)}if(n.responseType){const g=n.responseType.toLowerCase();s.responseType="json"!==g?g:"text"}const a=n.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const g=s.statusText||"OK",m=new er(s.getAllResponseHeaders()),v=function y7(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(s)||n.url;return l=new D_({headers:m,status:s.status,statusText:g,url:v}),l},c=()=>{let{headers:g,status:m,statusText:v,url:_}=u(),I=null;204!==m&&(I=typeof s.response>"u"?s.responseText:s.response),0===m&&(m=I?200:0);let P=m>=200&&m<300;if("json"===n.responseType&&"string"==typeof I){const F=I;I=I.replace(_7,"");try{I=""!==I?JSON.parse(I):null}catch(Me){I=F,P&&(P=!1,I={error:Me,text:I})}}P?(o.next(new Ts({body:I,headers:g,status:m,statusText:v,url:_||void 0})),o.complete()):o.error(new rk({error:I,headers:g,status:m,statusText:v,url:_||void 0}))},d=g=>{const{url:m}=u(),v=new rk({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});o.error(v)};let h=!1;const f=g=>{h||(o.next(u()),h=!0);let m={type:$e.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),"text"===n.responseType&&s.responseText&&(m.partialText=s.responseText),o.next(m)},p=g=>{let m={type:$e.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),o.next(m)};return s.addEventListener("load",c),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",f),null!==a&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:$e.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",c),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",f),null!==a&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}}return t.\u0275fac=function(n){return new(n||t)(R(ER))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t})();const S_=new T("XSRF_ENABLED"),hk=new T("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),fk=new T("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class pk{}let C7=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=lR(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(R(Jt),R(yr),R(hk))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),t})();function w7(t,e){const n=t.url.toLowerCase();if(!M(S_)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=M(pk).getToken(),i=M(fk);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Ce=(()=>((Ce=Ce||{})[Ce.Interceptors=0]="Interceptors",Ce[Ce.LegacyInterceptors=1]="LegacyInterceptors",Ce[Ce.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ce[Ce.NoXsrfProtection=3]="NoXsrfProtection",Ce[Ce.JsonpSupport=4]="JsonpSupport",Ce[Ce.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ce[Ce.Fetch=6]="Fetch",Ce))();function qi(t,e){return{\u0275kind:t,\u0275providers:e}}function b7(...t){const e=[ik,dk,uk,{provide:Fd,useExisting:uk},{provide:Ld,useExisting:dk},{provide:Cl,useValue:w7,multi:!0},{provide:S_,useValue:!0},{provide:pk,useClass:C7}];for(const n of t)e.push(...n.\u0275providers);return function Dp(t){return{\u0275providers:t}}(e)}const gk=new T("LEGACY_INTERCEPTOR_FN");let D7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=St({providers:[b7(qi(Ce.LegacyInterceptors,[{provide:gk,useFactory:f7},{provide:Cl,useExisting:gk,multi:!0}]))]}),t})();const N7=[];let P7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=St({imports:[b_.forRoot(N7),b_]}),t})();function mk(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){mk(o,r,i,s,a,"next",l)}function a(l){mk(o,r,i,s,a,"throw",l)}s(void 0)})}}const D=function(t,e){if(!t)throw Ss(e)},Ss=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},_k=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Bd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;l||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_k(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new x7;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yk=function(t){const e=_k(t);return Bd.encodeByteArray(e,!0)},As=function(t){return yk(t).replace(/\./g,"")},Hd=function(t){try{return Bd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function O7(t){return vk(void 0,t)}function vk(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!F7(n)||(t[n]=vk(t[n],e[n]));return t}function F7(t){return"__proto__"!==t}const $d=()=>{try{return function L7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hd(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Ek=()=>{var t;return null===(t=$d())||void 0===t?void 0:t.config};class oi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Zt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function M_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function R_(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ck(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function si(){try{return"object"==typeof indexedDB}catch{return!1}}function Ms(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function N_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class fn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nn.prototype.create)}}class Nn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function q7(t,e){return t.replace(K7,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new fn(i,`${this.serviceName}: ${s} (${i}).`,r)}}const K7=/\{\$([^}]+)}/g;function wl(t){return JSON.parse(t)}function ut(t){return JSON.stringify(t)}const jd=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=wl(Hd(o[0])||""),n=wl(Hd(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function tr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function wk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wd(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function P_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(bk(o)&&bk(s)){if(!P_(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bk(t){return null!==t&&"object"==typeof t}function k_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class J7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let u,c,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}class Z7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function eK(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=x_),void 0===i.error&&(i.error=x_),void 0===i.complete&&(i.complete=x_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x_(){}function Ki(t,e){return`${t} failed: ${e} argument `}const Gd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},nK=1e3,rK=2,iK=144e5,oK=.5;function O_(t,e=nK,n=rK){const r=e*Math.pow(n,t),i=Math.round(oK*r*(Math.random()-.5)*2);return Math.min(iK,r+i)}function Pn(t){return t&&t._delegate?t._delegate:t}class Ze{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Yi="[DEFAULT]";class aK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function uK(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Yi?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class cK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const F_=[];var G=(()=>((G=G||{})[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",G))();const Ik={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},dK=G.INFO,hK={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},fK=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=hK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Qi{constructor(e){this.name=e,this._logLevel=dK,this._logHandler=fK,this._userLogHandler=null,F_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Ik[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...e),this._logHandler(this,G.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...e),this._logHandler(this,G.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,G.INFO,...e),this._logHandler(this,G.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,G.WARN,...e),this._logHandler(this,G.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...e),this._logHandler(this,G.ERROR,...e)}}const pK=(t,e)=>e.some(n=>t instanceof n);let Dk,Tk;const Sk=new WeakMap,L_=new WeakMap,Ak=new WeakMap,V_=new WeakMap,U_=new WeakMap;let B_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return L_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Ak.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function CK(t){return"function"==typeof t?function EK(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mK(){return Tk||(Tk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(H_(this),e),ai(Sk.get(this))}:function(...e){return ai(t.apply(H_(this),e))}:function(e,...n){const r=t.call(H_(this),e,...n);return Ak.set(r,e.sort?e.sort():[e]),ai(r)}}(t):(t instanceof IDBTransaction&&function yK(t){if(L_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});L_.set(t,e)}(t),pK(t,function gK(){return Dk||(Dk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,B_):t)}function ai(t){if(t instanceof IDBRequest)return function _K(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ai(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Sk.set(n,t)}).catch(()=>{}),U_.set(e,t),e}(t);if(V_.has(t))return V_.get(t);const e=CK(t);return e!==t&&(V_.set(t,e),U_.set(e,t)),e}const H_=t=>U_.get(t);function Mk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ai(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ai(s.result),l.oldVersion,l.newVersion,ai(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const wK=["get","getKey","getAll","getAllKeys","count"],bK=["put","add","delete","clear"],$_=new Map;function Rk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if($_.get(e))return $_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!wK.includes(n))return;const o=function(){var s=y(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return s.apply(this,arguments)}}();return $_.set(e,o),o}!function vK(t){B_=t(B_)}(t=>({...t,get:(e,n,r)=>Rk(e,n)||t.get(e,n,r),has:(e,n)=>!!Rk(e,n)||t.has(e,n)}));class IK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function DK(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const j_="@firebase/app",Ji=new Qi("@firebase/app"),zd="[DEFAULT]",JK={[j_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xi=new Map,qd=new Map;function XK(t,e){try{t.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ns(t){const e=t.name;if(qd.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;qd.set(e,t);for(const n of Xi.values())XK(n,t);return!0}const Nr=new Nn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class e9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ze("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}const Kd="9.23.0";function kk(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:zd,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Nr.create("bad-app-name",{appName:String(i)});if(n||(n=Ek()),!n)throw Nr.create("no-options");const o=Xi.get(i);if(o){if(P_(n,o.options)&&P_(r,o.config))return o;throw Nr.create("duplicate-app",{appName:i})}const s=new cK(i);for(const l of qd.values())s.addComponent(l);const a=new e9(n,r,s);return Xi.set(i,a),a}function xk(t=zd){const e=Xi.get(t);if(!e&&t===zd&&Ek())return kk();if(!e)throw Nr.create("no-app",{appName:t});return e}function Ok(){return Array.from(Xi.values())}function pn(t,e,n){var r;let i=null!==(r=JK[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ji.warn(a.join(" "))}Ns(new Ze(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const t9="firebase-heartbeat-database",n9=1,bl="firebase-heartbeat-store";let G_=null;function Fk(){return G_||(G_=Mk(t9,n9,{upgrade:(t,e)=>{0===e&&t.createObjectStore(bl)}}).catch(t=>{throw Nr.create("idb-open",{originalErrorMessage:t.message})})),G_}function z_(){return(z_=y(function*(t){try{return yield(yield Fk()).transaction(bl).objectStore(bl).get(Vk(t))}catch(e){if(e instanceof fn)Ji.warn(e.message);else{const n=Nr.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(n.message)}}})).apply(this,arguments)}function Lk(t,e){return q_.apply(this,arguments)}function q_(){return(q_=y(function*(t,e){try{const r=(yield Fk()).transaction(bl,"readwrite");yield r.objectStore(bl).put(e,Vk(t)),yield r.done}catch(n){if(n instanceof fn)Ji.warn(n.message);else{const r=Nr.create("idb-set",{originalErrorMessage:n?.message});Ji.warn(r.message)}}})).apply(this,arguments)}function Vk(t){return`${t.name}!${t.options.appId}`}class s9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Uk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=Uk(),{heartbeatsToSend:r,unsentEntries:i}=function a9(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Bk(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=As(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function Uk(){return(new Date).toISOString().substring(0,10)}class l9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!si()&&Ms().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function r9(t){return z_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return Lk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return Lk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function Bk(t){return As(JSON.stringify({version:2,heartbeats:t})).length}!function u9(t){Ns(new Ze("platform-logger",e=>new IK(e),"PRIVATE")),Ns(new Ze("heartbeat",e=>new s9(e),"PRIVATE")),pn(j_,"0.9.13",t),pn(j_,"0.9.13","esm2017"),pn("fire-js","")}(""),pn("firebase","9.23.0","app");class h9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function f9(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const K_="@firebase/app",Zi=new Qi("@firebase/app"),U9={[K_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},eo=new Map,Qd=new Map;function B9(t,e){try{t.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gn(t){const e=t.name;if(Qd.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;Qd.set(e,t);for(const n of eo.values())B9(n,t);return!0}function Y_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Pr=new Nn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});function mn(t,e,n){var r;let i=null!==(r=U9[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Zi.warn(a.join(" "))}gn(new Ze(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const G9="firebase-heartbeat-database",z9=1,Il="firebase-heartbeat-store";let J_=null;function $k(){return J_||(J_=Mk(G9,z9,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Il)}}).catch(t=>{throw Pr.create("idb-open",{originalErrorMessage:t.message})})),J_}function X_(){return(X_=y(function*(t){try{return yield(yield $k()).transaction(Il).objectStore(Il).get(Wk(t))}catch(e){if(e instanceof fn)Zi.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e?.message});Zi.warn(n.message)}}})).apply(this,arguments)}function jk(t,e){return Z_.apply(this,arguments)}function Z_(){return(Z_=y(function*(t,e){try{const r=(yield $k()).transaction(Il,"readwrite");yield r.objectStore(Il).put(e,Wk(t)),yield r.done}catch(n){if(n instanceof fn)Zi.warn(n.message);else{const r=Pr.create("idb-set",{originalErrorMessage:n?.message});Zi.warn(r.message)}}})).apply(this,arguments)}function Wk(t){return`${t.name}!${t.options.appId}`}class Q9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Gk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=Gk(),{heartbeatsToSend:r,unsentEntries:i}=function J9(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),zk(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=As(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function Gk(){return(new Date).toISOString().substring(0,10)}class X9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!si()&&Ms().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function q9(t){return X_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return jk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return jk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function zk(t){return As(JSON.stringify({version:2,heartbeats:t})).length}!function Z9(t){gn(new Ze("platform-logger",e=>new h9(e),"PRIVATE")),gn(new Ze("heartbeat",e=>new Q9(e),"PRIVATE")),mn(K_,"0.9.14",t),mn(K_,"0.9.14","esm2017"),mn("fire-js","")}("");const eY=(t,e)=>e.some(n=>t instanceof n);let qk,Kk;const Yk=new WeakMap,ey=new WeakMap,Qk=new WeakMap,ty=new WeakMap,ny=new WeakMap;let ry={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ey.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Qk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function aY(t){return"function"==typeof t?function sY(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nY(){return Kk||(Kk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(iy(this),e),li(Yk.get(this))}:function(...e){return li(t.apply(iy(this),e))}:function(e,...n){const r=t.call(iy(this),e,...n);return Qk.set(r,e.sort?e.sort():[e]),li(r)}}(t):(t instanceof IDBTransaction&&function iY(t){if(ey.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ey.set(t,e)}(t),eY(t,function tY(){return qk||(qk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,ry):t)}function li(t){if(t instanceof IDBRequest)return function rY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(li(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Yk.set(n,t)}).catch(()=>{}),ny.set(e,t),e}(t);if(ty.has(t))return ty.get(t);const e=aY(t);return e!==t&&(ty.set(t,e),ny.set(e,t)),e}const iy=t=>ny.get(t),uY=["get","getKey","getAll","getAllKeys","count"],cY=["put","add","delete","clear"],oy=new Map;function Jk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(oy.get(e))return oy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!uY.includes(n))return;const o=function(){var s=y(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return s.apply(this,arguments)}}();return oy.set(e,o),o}!function oY(t){ry=t(ry)}(t=>({...t,get:(e,n,r)=>Jk(e,n)||t.get(e,n,r),has:(e,n)=>!!Jk(e,n)||t.has(e,n)}));const Xk="@firebase/installations",sy="0.6.4",Zk=1e4,ex=`w:${sy}`,tx="FIS_v2",dY="https://firebaseinstallations.googleapis.com/v1",hY=36e5,kr=new Nn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nx(t){return t instanceof fn&&t.code.includes("request-failed")}function ay({projectId:t}){return`${dY}/projects/${t}/installations`}function rx(t){return{token:t.token,requestStatus:2,expiresIn:mY(t.expiresIn),creationTime:Date.now()}}function ly(t,e){return uy.apply(this,arguments)}function uy(){return(uy=y(function*(t,e){const r=(yield e.json()).error;return kr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function ix({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function cy(t){return dy.apply(this,arguments)}function dy(){return(dy=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function mY(t){return Number(t.replace("s","000"))}function hy(){return(hy=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=ay(t),i=ix(t),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:tx,appId:t.appId,sdkVersion:ex})},l=yield cy(()=>fetch(r,a));if(l.ok){const u=yield l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:rx(u.authToken)}}throw yield ly("Create Installation",l)})).apply(this,arguments)}function sx(t){return new Promise(e=>{setTimeout(e,t)})}const EY=/^[cdef][\w-]{21}$/,fy="";function CY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function wY(t){return function vY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return EY.test(n)?n:fy}catch{return fy}}function Ps(t){return`${t.appName}!${t.appId}`}const ks=new Map;function ax(t,e){const n=Ps(t);lx(n,e),function DY(t,e){const n=function ux(){return!to&&"BroadcastChannel"in self&&(to=new BroadcastChannel("[Firebase] FID Change"),to.onmessage=t=>{lx(t.data.key,t.data.fid)}),to}();n&&n.postMessage({key:t,fid:e}),function cx(){0===ks.size&&to&&(to.close(),to=null)}()}(n,e)}function lx(t,e){const n=ks.get(t);if(n)for(const r of n)r(e)}let to=null;const TY="firebase-installations-database",SY=1,no="firebase-installations-store";let py=null;function gy(){return py||(py=function lY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=li(s);return r&&s.addEventListener("upgradeneeded",l=>{r(li(s.result),l.oldVersion,l.newVersion,li(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(TY,SY,{upgrade:(t,e)=>{0===e&&t.createObjectStore(no)}})),py}function Jd(t,e){return my.apply(this,arguments)}function my(){return(my=y(function*(t,e){const n=Ps(t),i=(yield gy()).transaction(no,"readwrite"),o=i.objectStore(no),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&ax(t,e.fid),e})).apply(this,arguments)}function _y(t){return yy.apply(this,arguments)}function yy(){return(yy=y(function*(t){const e=Ps(t),r=(yield gy()).transaction(no,"readwrite");yield r.objectStore(no).delete(e),yield r.done})).apply(this,arguments)}function Dl(t,e){return vy.apply(this,arguments)}function vy(){return(vy=y(function*(t,e){const n=Ps(t),i=(yield gy()).transaction(no,"readwrite"),o=i.objectStore(no),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&ax(t,a.fid),a})).apply(this,arguments)}function Ey(t){return Cy.apply(this,arguments)}function Cy(){return Cy=y(function*(t){let e;const n=yield Dl(t.appConfig,r=>{const i=function AY(t){return hx(t||{fid:CY(),registrationStatus:0})}(r),o=function MY(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(kr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function RY(t,e){return wy.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:NY(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===fy?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Cy.apply(this,arguments)}function wy(){return wy=y(function*(t,e){try{const n=yield function yY(t,e){return hy.apply(this,arguments)}(t,e);return Jd(t.appConfig,n)}catch(n){throw nx(n)&&409===n.customData.serverCode?yield _y(t.appConfig):yield Jd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),wy.apply(this,arguments)}function NY(t){return by.apply(this,arguments)}function by(){return(by=y(function*(t){let e=yield dx(t.appConfig);for(;1===e.registrationStatus;)yield sx(100),e=yield dx(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Ey(t);return r||n}return e})).apply(this,arguments)}function dx(t){return Dl(t,e=>{if(!e)throw kr.create("installation-not-found");return hx(e)})}function hx(t){return function PY(t){return 1===t.registrationStatus&&t.registrationTime+Zk<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Iy(){return(Iy=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function xY(t,{fid:e}){return`${ay(t)}/${e}/authTokens:generate`}(t,n),i=function ox(t,{refreshToken:e}){const n=ix(t);return n.append("Authorization",function _Y(t){return`${tx} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:ex,appId:t.appId}})},l=yield cy(()=>fetch(r,a));if(l.ok)return rx(yield l.json());throw yield ly("Generate Auth Token",l)})).apply(this,arguments)}function Dy(t){return Ty.apply(this,arguments)}function Ty(){return Ty=y(function*(t,e=!1){let n;const r=yield Dl(t.appConfig,o=>{if(!px(o))throw kr.create("not-registered");const s=o.authToken;if(!e&&function LY(t){return 2===t.requestStatus&&!function VY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+hY}(t)}(s))return o;if(1===s.requestStatus)return n=function OY(t,e){return Sy.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw kr.create("app-offline");const a=function UY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function FY(t,e){return Ay.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Ty.apply(this,arguments)}function Sy(){return(Sy=y(function*(t,e){let n=yield fx(t.appConfig);for(;1===n.authToken.requestStatus;)yield sx(100),n=yield fx(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Dy(t,e):r})).apply(this,arguments)}function fx(t){return Dl(t,e=>{if(!px(e))throw kr.create("not-registered");return function BY(t){return 1===t.requestStatus&&t.requestTime+Zk<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Ay(){return Ay=y(function*(t,e){try{const n=yield function kY(t,e){return Iy.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Jd(t.appConfig,r),n}catch(n){if(!nx(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Jd(t.appConfig,r)}else yield _y(t.appConfig);throw n}}),Ay.apply(this,arguments)}function px(t){return void 0!==t&&2===t.registrationStatus}function My(){return(My=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Ey(e);return r?r.catch(console.error):Dy(e).catch(console.error),n.fid})).apply(this,arguments)}function Ry(){return Ry=y(function*(t,e=!1){const n=t;return yield function jY(t){return Ny.apply(this,arguments)}(n),(yield Dy(n,e)).token}),Ry.apply(this,arguments)}function Ny(){return(Ny=y(function*(t){const{registrationPromise:e}=yield Ey(t);e&&(yield e)})).apply(this,arguments)}function xy(t){return kr.create("missing-app-config-values",{valueName:t})}const gx="installations",KY=t=>{const e=t.getProvider("app").getImmediate(),n=function zY(t){if(!t||!t.options)throw xy("App Configuration");if(!t.name)throw xy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw xy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Y_(e,"heartbeat"),_delete:()=>Promise.resolve()}},YY=t=>{const n=Y_(t.getProvider("app").getImmediate(),gx).getImmediate();return{getId:()=>function HY(t){return My.apply(this,arguments)}(n),getToken:i=>function $Y(t){return Ry.apply(this,arguments)}(n,i)}};(function QY(){gn(new Ze(gx,KY,"PUBLIC")),gn(new Ze("installations-internal",YY,"PRIVATE"))})(),mn(Xk,sy),mn(Xk,sy,"esm2017");const Oy="@firebase/remote-config",Vt=new Nn("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class aQ{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function lQ(t=navigator){return t.languages&&t.languages[0]||t.language}class uQ{constructor(e,n,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:lQ()},u={method:"POST",headers:a,body:JSON.stringify(l)},c=fetch(s,u),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const I=new Error("The operation was aborted.");I.name="AbortError",_(I)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(v){let _="fetch-client-network";throw"AbortError"===v?.name&&(_="fetch-timeout"),Vt.create(_,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw Vt.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=v.entries,m=v.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw Vt.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class hQ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function cQ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Vt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function dQ(t){if(!(t instanceof fn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+O_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class gQ{constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zd(t,e){const n=t.target.error||void 0;return Vt.create(e,{originalErrorMessage:n&&n?.message})}const ro="app_namespace_store";class vQ{constructor(e,n,r,i=function yQ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Zd(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ro,{keyPath:"compositeKey"})}}catch(n){e(Vt.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ro],"readonly").objectStore(ro),l=n.createCompositeKey(e);try{const u=a.get(l);u.onerror=c=>{o(Zd(c,"storage-get"))},u.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(u){o(Vt.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const l=i.transaction([ro],"readwrite").objectStore(ro),u=r.createCompositeKey(e);try{const c=l.put({compositeKey:u,value:n});c.onerror=d=>{s(Zd(d,"storage-set"))},c.onsuccess=()=>{o()}}catch(c){s(Vt.create("storage-set",{originalErrorMessage:c?.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ro],"readwrite").objectStore(ro),l=n.createCompositeKey(e);try{const u=a.delete(l);u.onerror=c=>{o(Zd(c,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){o(Vt.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class EQ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield n;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function wQ(){return By.apply(this,arguments)}function By(){return(By=y(function*(){if(!si())return!1;try{return yield Ms()}catch{return!1}})).apply(this,arguments)}!function CQ(){gn(new Ze("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vt.create("registration-window");if(!si())throw Vt.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Vt.create("registration-project-id");if(!s)throw Vt.create("registration-api-key");if(!a)throw Vt.create("registration-app-id");const l=new vQ(a,r.name,n=n||"firebase"),u=new EQ(l),c=new Qi(Oy);c.logLevel=G.ERROR;const d=new uQ(i,"10.0.0",n,o,s,a),h=new hQ(d,l),f=new aQ(h,l,u,c),p=new gQ(r,f,u,l,c);return function iQ(t){const e=Pn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),mn(Oy,"0.4.4"),mn(Oy,"0.4.4","esm2017")}();const bQ=(t,e)=>e.some(n=>t instanceof n);let vx,Ex;const Cx=new WeakMap,Hy=new WeakMap,wx=new WeakMap,$y=new WeakMap,jy=new WeakMap;let Wy={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Hy.get(t);if("objectStoreNames"===e)return t.objectStoreNames||wx.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function RQ(t){return"function"==typeof t?function MQ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function DQ(){return Ex||(Ex=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Gy(this),e),xr(Cx.get(this))}:function(...e){return xr(t.apply(Gy(this),e))}:function(e,...n){const r=t.call(Gy(this),e,...n);return wx.set(r,e.sort?e.sort():[e]),xr(r)}}(t):(t instanceof IDBTransaction&&function SQ(t){if(Hy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Hy.set(t,e)}(t),bQ(t,function IQ(){return vx||(vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Wy):t)}function xr(t){if(t instanceof IDBRequest)return function TQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Cx.set(n,t)}).catch(()=>{}),jy.set(e,t),e}(t);if($y.has(t))return $y.get(t);const e=RQ(t);return e!==t&&($y.set(t,e),jy.set(e,t)),e}const Gy=t=>jy.get(t);function bx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=xr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xr(s.result),l.oldVersion,l.newVersion,xr(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function zy(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),xr(n).then(()=>{})}const NQ=["get","getKey","getAll","getAllKeys","count"],PQ=["put","add","delete","clear"],qy=new Map;function Ix(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(qy.get(e))return qy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!NQ.includes(n))return;const o=function(){var s=y(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return s.apply(this,arguments)}}();return qy.set(e,o),o}!function AQ(t){Wy=t(Wy)}(t=>({...t,get:(e,n,r)=>Ix(e,n)||t.get(e,n,r),has:(e,n)=>!!Ix(e,n)||t.has(e,n)}));const kQ="/firebase-messaging-sw.js",xQ="/firebase-cloud-messaging-push-scope",Dx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",OQ="https://fcmregistrations.googleapis.com/v1",Tx="google.c.a.c_id",FQ="google.c.a.c_l",LQ="google.c.a.ts";var ui=(()=>((ui=ui||{}).PUSH_RECEIVED="push-received",ui.NOTIFICATION_CLICKED="notification-clicked",ui))();function Or(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function UQ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const Ky="fcm_token_details_db",BQ=5,Sx="fcm_token_object_Store";function Yy(){return Yy=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(Ky))return null;let e=null;return(yield bx(Ky,BQ,{upgrade:(r=y(function*(i,o,s,a){var l;if(o<2||!i.objectStoreNames.contains(Sx))return;const u=a.objectStore(Sx),c=yield u.index("fcmSenderId").get(t);if(yield u.clear(),c)if(2===o){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Or(d.vapidKey)}}}else if(3===o){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Or(d.auth),p256dh:Or(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Or(d.vapidKey)}}}else if(4===o){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Or(d.auth),p256dh:Or(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Or(d.vapidKey)}}}}),function(o,s,a,l){return r.apply(this,arguments)})})).close(),yield zy(Ky),yield zy("fcm_vapid_details_db"),yield zy("undefined"),function $Q(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Yy.apply(this,arguments)}const jQ="firebase-messaging-database",WQ=1,io="firebase-messaging-store";let Qy=null;function Jy(){return Qy||(Qy=bx(jQ,WQ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(io)}})),Qy}function Ax(t){return Xy.apply(this,arguments)}function Xy(){return Xy=y(function*(t){const e=nv(t),r=yield(yield Jy()).transaction(io).objectStore(io).get(e);if(r)return r;{const i=yield function HQ(t){return Yy.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield Zy(t,i),i}}),Xy.apply(this,arguments)}function Zy(t,e){return ev.apply(this,arguments)}function ev(){return(ev=y(function*(t,e){const n=nv(t),i=(yield Jy()).transaction(io,"readwrite");return yield i.objectStore(io).put(e,n),yield i.done,e})).apply(this,arguments)}function tv(){return(tv=y(function*(t){const e=nv(t),r=(yield Jy()).transaction(io,"readwrite");yield r.objectStore(io).delete(e),yield r.done})).apply(this,arguments)}function nv({appConfig:t}){return t.appId}const ct=new Nn("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function qQ(t,e){return rv.apply(this,arguments)}function rv(){return(rv=y(function*(t,e){const n=yield av(t),r=Rx(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(sv(t.appConfig),i)).json()}catch(s){throw ct.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw ct.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw ct.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function iv(){return(iv=y(function*(t,e){const n=yield av(t),r=Rx(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${sv(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw ct.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw ct.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw ct.create("token-update-no-token");return o.token})).apply(this,arguments)}function Mx(t,e){return ov.apply(this,arguments)}function ov(){return(ov=y(function*(t,e){const r={method:"DELETE",headers:yield av(t)};try{const o=yield(yield fetch(`${sv(t.appConfig)}/${e}`,r)).json();if(o.error)throw ct.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw ct.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function sv({projectId:t}){return`${OQ}/projects/${t}/registrations`}function av(t){return lv.apply(this,arguments)}function lv(){return(lv=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function Rx({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Dx&&(i.web.applicationPubKey=r),i}const YQ=6048e5;function uv(){return uv=y(function*(t){const e=yield function XQ(t,e){return fv.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Or(e.getKey("auth")),p256dh:Or(e.getKey("p256dh"))},r=yield Ax(t.firebaseDependencies);if(r){if(function ZQ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+YQ?function JQ(t,e){return dv.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Mx(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Px(t.firebaseDependencies,n)}return Px(t.firebaseDependencies,n)}),uv.apply(this,arguments)}function cv(){return cv=y(function*(t){const e=yield Ax(t.firebaseDependencies);e&&(yield Mx(t.firebaseDependencies,e.token),yield function GQ(t){return tv.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),cv.apply(this,arguments)}function dv(){return dv=y(function*(t,e){try{const n=yield function KQ(t,e){return iv.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Zy(t.firebaseDependencies,r),n}catch(n){throw yield function Nx(t){return cv.apply(this,arguments)}(t),n}}),dv.apply(this,arguments)}function Px(t,e){return hv.apply(this,arguments)}function hv(){return(hv=y(function*(t,e){const r={token:yield qQ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Zy(t,r),r.token})).apply(this,arguments)}function fv(){return(fv=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:UQ(e)})})).apply(this,arguments)}function kx(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function eJ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}(e,t),function tJ(t,e){e.data&&(t.data=e.data)}(e,t),function nJ(t,e){var n,r,i,o,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(t.fcmOptions.link=a);const l=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}(e,t),e}function xx(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function pv(t){return ct.create("missing-app-config-values",{valueName:t})}xx("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),xx("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class oJ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function iJ(t){if(!t||!t.options)throw pv("App Configuration Object");if(!t.name)throw pv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw pv(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function gv(){return(gv=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(kQ,{scope:xQ}),t.swRegistration.update().catch(()=>{})}catch(e){throw ct.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function mv(){return(mv=y(function*(t,e){if(!e&&!t.swRegistration&&(yield function Ox(t){return gv.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw ct.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function _v(){return(_v=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Dx)})).apply(this,arguments)}function yv(){return yv=y(function*(t,e){if(!navigator)throw ct.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ct.create("permission-blocked");return yield function aJ(t,e){return _v.apply(this,arguments)}(t,e?.vapidKey),yield function sJ(t,e){return mv.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function QQ(t){return uv.apply(this,arguments)}(t)}),yv.apply(this,arguments)}function vv(){return(vv=y(function*(t,e,n){const r=function uJ(t){switch(t){case ui.NOTIFICATION_CLICKED:return"notification_open";case ui.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Tx],message_name:n[FQ],message_time:n[LQ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ev(){return Ev=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ui.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(kx(n)):t.onMessageHandler.next(kx(n)));const r=n.data;(function rJ(t){return"object"==typeof t&&!!t&&Tx in t})(r)&&"1"===r["google.c.a.e"]&&(yield function lJ(t,e,n){return vv.apply(this,arguments)}(t,n.messageType,r))}),Ev.apply(this,arguments)}const Lx="@firebase/messaging",dJ=t=>{const e=new oJ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function cJ(t,e){return Ev.apply(this,arguments)}(e,n)),e},hJ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function Fx(t,e){return yv.apply(this,arguments)}(e,r)}};function Ux(){return Cv.apply(this,arguments)}function Cv(){return(Cv=y(function*(){try{yield Ms()}catch{return!1}return typeof window<"u"&&si()&&N_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function fJ(){gn(new Ze("messaging",dJ,"PUBLIC")),gn(new Ze("messaging-internal",hJ,"PRIVATE")),mn(Lx,"0.12.4"),mn(Lx,"0.12.4","esm2017")}();const eh="analytics",mJ="firebase_id",_J="origin",yJ=6e4,vJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Iv="https://www.googletagmanager.com/gtag/js",nt=new Qi("@firebase/analytics"),Dt=new Nn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function CJ(t){if(!t.startsWith(Iv)){const e=Dt.create("invalid-gtag-resource",{gtagURL:t});return nt.warn(e.message),""}return t}function Bx(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Dv(){return(Dv=y(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const l=(yield Bx(n)).find(u=>u.measurementId===i);l&&(yield e[l.appId])}}catch(a){nt.error(a)}t("config",i,o)})).apply(this,arguments)}function Tv(){return(Tv=y(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield Bx(n);for(const l of s){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(!c){o=[];break}o.push(c)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){nt.error(o)}})).apply(this,arguments)}const RJ=30,Hx=new class PJ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function kJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Sv(){return(Sv=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:kJ(r)},o=vJ.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const l=yield s.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Dt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function Av(){return(Av=y(function*(t,e=Hx,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Dt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Dt.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new VJ;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:yJ),$x({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function $x(t,e,n){return Mv.apply(this,arguments)}function Mv(){return Mv=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Hx){var o;const{appId:s,measurementId:a}=t;try{yield function FJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Dt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(l){if(a)return nt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw l}try{const l=yield function xJ(t){return Sv.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!function LJ(t){if(!(t instanceof fn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(s),a)return nt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw l}const c=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?O_(n,i.intervalMillis,RJ):O_(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,d),nt.debug(`Calling attemptFetch again in ${c} millis`),$x(t,d,r,i)}}),Mv.apply(this,arguments)}class VJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Rv,Lv;function Nv(){return(Nv=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function Vv(){return(Vv=y(function*(){if(!si())return nt.warn(Dt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ms()}catch(t){return nt.warn(Dt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Uv(){return Uv=y(function*(t,e,n,r,i,o,s){var a;const l=function OJ(t){return Av.apply(this,arguments)}(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&nt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>nt.error(f)),e.push(l);const u=function GJ(){return Vv.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([l,u]);(function MJ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Iv)&&n.src.includes(t))return n;return null})(o)||function bJ(t,e){const n=function wJ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:CJ}),r=document.createElement("script"),i=`${Iv}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,c.measurementId),Lv&&(i("consent","default",Lv),function jx(t){Lv=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[_J]="firebase",h.update=!0,null!=d&&(h[mJ]=d),i("config",c.measurementId,h),Rv&&(i("set",Rv),function Wx(t){Rv=t}(void 0)),c.measurementId}),Uv.apply(this,arguments)}class qJ{constructor(e){this.app=e}_delete(){return delete nr[this.app.options.appId],Promise.resolve()}}let nr={},Gx=[];const zx={};let Kx,rr,th="dataLayer",Bv=!1;function YJ(t,e,n){!function KJ(){const t=[];if(R_()&&t.push("This is a browser extension environment."),N_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Dt.create("invalid-analytics-context",{errorInfo:e});nt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Dt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Dt.create("no-api-key");nt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=nr[r])throw Dt.create("already-exists",{id:r});if(!Bv){!function IJ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(th);const{wrappedGtag:o,gtagCore:s}=function AJ(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function SJ(t,e,n,r){function o(){return o=y(function*(s,...a){try{if("event"===s){const[l,u]=a;yield function TJ(t,e,n,r,i){return Tv.apply(this,arguments)}(t,e,n,l,u)}else if("config"===s){const[l,u]=a;yield function DJ(t,e,n,r,i,o){return Dv.apply(this,arguments)}(t,e,n,r,l,u)}else if("consent"===s){const[l]=a;t("consent","update",l)}else if("get"===s){const[l,u,c]=a;t("get",l,u,c)}else if("set"===s){const[l]=a;t("set",l)}else t(s,...a)}catch(l){nt.error(l)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(nr,Gx,zx,th,"gtag");rr=o,Kx=s,Bv=!0}return nr[r]=function zJ(t,e,n,r,i,o,s){return Uv.apply(this,arguments)}(t,Gx,zx,e,Kx,th,n),new qJ(t)}function JJ(){return Hv.apply(this,arguments)}function Hv(){return(Hv=y(function*(){if(R_()||!N_()||!si())return!1;try{return yield Ms()}catch{return!1}})).apply(this,arguments)}const Yx="@firebase/analytics";!function ZJ(){gn(new Ze(eh,(e,{options:n})=>YJ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),gn(new Ze("analytics-internal",function t(e){try{const n=e.getProvider(eh).getImmediate();return{logEvent:(r,i,o)=>function XJ(t,e,n,r){t=Pn(t),function UJ(t,e,n,r,i){return Nv.apply(this,arguments)}(rr,nr[t.app.options.appId],e,n,r).catch(i=>nt.error(i))}(n,r,i,o)}}catch(n){throw Dt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),mn(Yx,"0.10.0"),mn(Yx,"0.10.0","esm2017")}();class eX extends Ht{constructor(e,n){super()}schedule(e,n=0){return this}}const nh={setInterval(t,e,...n){const{delegate:r}=nh;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=nh;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class Jx extends eX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return nh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&nh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,bo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const Xx={now:()=>(Xx.delegate||Date).now(),delegate:void 0};class Tl{constructor(e,n=Tl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Tl.now=Xx.now;class Zx extends Tl{constructor(e,n=Tl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const rX=new class nX extends Zx{}(class tX extends Jx{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),iX=new Zx(Jx),jv=new Ko("7.6.1"),Wv="__angularfire_symbol__analyticsIsSupportedValue",Gv="__angularfire_symbol__analyticsIsSupported",zv="__angularfire_symbol__remoteConfigIsSupportedValue",qv="__angularfire_symbol__remoteConfigIsSupported",Kv="__angularfire_symbol__messagingIsSupportedValue",Yv="__angularfire_symbol__messagingIsSupported";globalThis[Gv]||(globalThis[Gv]=JJ().then(t=>globalThis[Wv]=t).catch(()=>globalThis[Wv]=!1)),globalThis[Yv]||(globalThis[Yv]=Ux().then(t=>globalThis[Kv]=t).catch(()=>globalThis[Kv]=!1)),globalThis[qv]||(globalThis[qv]=wQ().then(t=>globalThis[zv]=t).catch(()=>globalThis[zv]=!1));const Xv=(t,e)=>{const n=e?[e]:Ok(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function xs(){}class eO{constructor(e,n=rX){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class oX{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs)),n.pipe(yt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let tO=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new eO(Zone.current)),this.insideAngular=n.run(()=>new eO(Zone.current,iX)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(R(ge))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function so(t){return oo().ngZone.run(()=>t())}function aX(t){return oo(),function lX(t){return function(n){return(n=n.lift(new oX(t.ngZone))).pipe(yu(t.outsideAngular),_u(t.insideAngular))}}(oo())(t)}const uX=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),so(()=>t.apply(void 0,r))},Sl=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=so(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs)))),r[o]=uX(r[o],n));const i=function sX(t){return oo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof be){const o=oo();return i.pipe(yu(o.outsideAngular),_u(o.insideAngular))}return so(()=>i)}return i instanceof be?i.pipe(aX):i instanceof Promise?so(()=>new Promise((o,s)=>i.then(a=>so(()=>o(a)),a=>so(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:so(()=>i)};class Os{constructor(e){return e}}class nO{constructor(){return Ok()}}const Zv=new T("angularfire2._apps"),dX={provide:Os,useFactory:function cX(t){return t&&1===t.length?t[0]:new Os(xk())},deps:[[new kt,Zv]]},hX={provide:nO,deps:[[new kt,Zv]]};function fX(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Os(r)}}let pX=(()=>{class t{constructor(n){pn("angularfire",jv.full,"core"),pn("angularfire",jv.full,"app"),pn("angular",jT.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(R(yr))},t.\u0275mod=Wt({type:t}),t.\u0275inj=St({providers:[dX,hX]}),t})();function gX(t,...e){return{ngModule:pX,providers:[{provide:Zv,useFactory:fX(t),multi:!0,deps:[ge,ln,tO,...e]}]}}const mX=Sl(kk,!0);function iO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}const vX=function aO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lO=new Nn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ih=new Qi("@firebase/auth");function oh(t,...e){ih.logLevel<=G.ERROR&&ih.error(`Auth (${Kd}): ${t}`,...e)}function Ut(t,...e){throw tE(t,...e)}function ir(t,...e){return tE(t,...e)}function tE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lO.create(t,...e)}function b(t,e,...n){if(!t)throw tE(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw oh(e),new Error(e)}function ci(t,e){t||or(e)}function cO(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=M_()||Ck()}get(){return function CX(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function nE(){return"http:"===cO()||"https:"===cO()}()||R_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class dO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},IX=new Ml(3e4,6e4);function Pe(t,e,n,r){return iE.apply(this,arguments)}function iE(){return(iE=y(function*(t,e,n,r,i={}){return hO(t,i,y(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=k_(Object.assign({key:t.config.apiKey},s)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),dO.fetch()(fO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function hO(t,e,n){return oE.apply(this,arguments)}function oE(){return(oE=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bX),e);try{const i=new DX(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Rl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Rl(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw Rl(t,"email-already-in-use",s);if("USER_DISABLED"===l)throw Rl(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function uO(t,e,n){const r=Object.assign(Object.assign({},vX()),{[e]:n});return new Nn("auth","Firebase",r).create(e,{appName:t.name})}(t,c,u);Ut(t,c)}}catch(i){if(i instanceof fn)throw i;Ut(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function fO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function rE(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class DX{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ir(this.auth,"network-request-failed")),IX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ir(t,e,r);return i.customData._tokenResponse=n,i}function aE(){return(aE=y(function*(t,e){return Pe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function uE(){return(uE=y(function*(t,e){return Pe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function cE(){return(cE=y(function*(t,e=!1){const n=Pn(t),r=yield n.getIdToken(e),i=sh(r);b(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Nl(dE(i.auth_time)),issuedAtTime:Nl(dE(i.iat)),expirationTime:Nl(dE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function dE(t){return 1e3*Number(t)}function sh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hd(n);return i?JSON.parse(i):(oh("Failed to decode base64 JWT payload"),null)}catch(i){return oh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Lr(t,e){return hE.apply(this,arguments)}function hE(){return(hE=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof fn&&function NX({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class PX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class pO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pl(t){return fE.apply(this,arguments)}function fE(){return fE=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Lr(t,function AX(t,e){return uE.apply(this,arguments)}(n,{idToken:r}));b(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function OX(t){return t.map(e=>{var{providerId:n}=e,r=iO(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function xX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),c=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new pO(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}),fE.apply(this,arguments)}function pE(){return(pE=y(function*(t){const e=Pn(t);yield Pl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function gE(){return(gE=y(function*(t,e){const n=yield hO(t,{},y(function*(){const r=k_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=fO(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dO.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(typeof e.idToken<"u","internal-error"),b(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function RX(t){const e=sh(t);return b(e,"internal-error"),b(typeof e.exp<"u","internal-error"),b(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return b(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function FX(t,e){return gE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new kl;return r&&(b("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(b("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(b("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return or("not implemented")}}function di(t,e){b("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ao{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=iO(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pO(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield Lr(n,n.stsTokenManager.getToken(n.auth,e));return b(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function MX(t){return cE.apply(this,arguments)}(this,e)}reload(){return function kX(t){return pE.apply(this,arguments)}(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ao(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Pl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield Lr(e,function TX(t,e){return aE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,v=null!==(u=n.createdAt)&&void 0!==u?u:void 0,_=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:I,emailVerified:P,isAnonymous:F,providerData:Me,stsTokenManager:wo}=n;b(I&&wo,e,"internal-error");const Vb=kl.fromJSON(this.name,wo);b("string"==typeof I,e,"internal-error"),di(d,e.name),di(h,e.name),b("boolean"==typeof P,e,"internal-error"),b("boolean"==typeof F,e,"internal-error"),di(f,e.name),di(p,e.name),di(g,e.name),di(m,e.name),di(v,e.name),di(_,e.name);const hu=new ao({uid:I,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:F,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Vb,createdAt:v,lastLoginAt:_});return Me&&Array.isArray(Me)&&(hu.providerData=Me.map(moe=>Object.assign({},moe))),m&&(hu._redirectEventId=m),hu}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new kl;i.updateFromServerResponse(n);const o=new ao({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Pl(o),o})()}}const gO=new Map;function Vr(t){ci(t instanceof Function,"Expected a class definition");let e=gO.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gO.set(t,e),e)}const mO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function ah(t,e,n){return`firebase:${t}:${e}:${n}`}class Ls{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ah(this.userKey,i.apiKey,o),this.fullPersistenceKey=ah("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ao._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new Ls(Vr(mO),e,r);const i=(yield Promise.all(n.map(function(){var u=y(function*(c){if(yield c._isAvailable())return c});return function(c){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||Vr(mO);const s=ah(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=yield u._get(s);if(c){const d=ao._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=y(function*(c){if(c!==o)try{yield c._remove(s)}catch{}});return function(c){return u.apply(this,arguments)}}())),new Ls(o,e,r)):new Ls(o,e,r)})()}}function _O(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function EO(t=Zt()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function yO(t=Zt()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function wO(t=Zt()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function bO(t=Zt()){return/webos/i.test(t)}(e))return"Webos";if(function mE(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function vO(t=Zt()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function CO(t=Zt()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function IO(t,e=[]){let n;switch(t){case"Browser":n=_O(Zt());break;case"Worker":n=`${_O(Zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kd}/${r}`}function DO(t,e){return yE.apply(this,arguments)}function yE(){return(yE=y(function*(t,e){return Pe(t,"GET","/v2/recaptchaConfig",function Se(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function SO(t){return void 0!==t&&void 0!==t.enterprise}class AO{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class RO{constructor(e){this.type="recaptcha-enterprise",this.auth=rt(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function o(){return o=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=y(function*(u,c){DO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new AO(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}c(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{c(d)})});return function(u,c){return l.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,l,u){const c=window.grecaptcha;SO(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&SO(window.grecaptcha))s(u,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));(function vE(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ir("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function BX(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{s(u,a,l)}).catch(c=>{l(c)})}}).catch(u=>{l(u)})})})()}}class WX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class GX{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NO(this),this.idTokenSubscription=new NO(this),this.beforeStateQueue=new WX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(y(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Ls.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return b(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield Pl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function wX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?Pn(e):null;return r&&b(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&b(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(Vr(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const n=yield DO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new AO(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new RO(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&Vr(e)||n._popupRedirectResolver;b(r,n,"argument-error"),n.redirectPersistenceManager=yield Ls.create(n,[Vr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return b(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function EX(t,...e){ih.logLevel<=G.WARN&&ih.warn(`Auth (${Kd}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function rt(t){return Pn(t)}class NO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function X7(t,e){const n=new Z7(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function MO(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Ml(3e4,6e4),new Ml(2e3,1e4),new Ml(3e4,6e4),new Ml(5e3,15e3),encodeURIComponent("fac");var sF="@firebase/auth";class Lee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}$d(),function Uee(t){Ns(new Ze("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;b(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IO(t)},u=new GX(r,i,o,l);return function qX(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ns(new Ze("auth-internal",e=>{const n=rt(e.getProvider("auth").getImmediate());return new Lee(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(sF,"0.23.2",function Vee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),pn(sF,"0.23.2","esm2017")}("Browser");class cF{constructor(){return Xv("auth")}}const aw=new Map,dF={activated:!1,tokenObservers:[]},zee={initialized:!1,enabled:!1};function ke(t){return aw.get(t)||Object.assign({},dF)}function Eh(){return zee}const lw="https://content-firebaseappcheck.googleapis.com/v1",Qee="exchangeDebugToken",hF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Xee{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new oi,yield function Zee(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new oi,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const dt=new Nn("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function uw(t){if(!ke(t).activated)throw dt.create("use-before-activation",{appName:t.name})}function bh(t,e){return dw.apply(this,arguments)}function dw(){return dw=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw dt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw dt.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw dt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw dt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(l[1]),c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}),dw.apply(this,arguments)}function fF(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${lw}/projects/${n}/apps/${r}:${Qee}?key=${i}`,body:{debug_token:e}}}const rte="firebase-app-check-database",ite=1,Vl="firebase-app-check-store";let Ih=null;function hw(){return hw=y(function*(t,e){const r=(yield function gF(){return Ih||(Ih=new Promise((t,e)=>{try{const n=indexedDB.open(rte,ite);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(dt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Vl,{keyPath:"compositeKey"})}}catch(n){e(dt.create("storage-open",{originalErrorMessage:n?.message}))}}),Ih)}()).transaction(Vl,"readwrite"),o=r.objectStore(Vl).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(dt.create("storage-set",{originalErrorMessage:null===(u=l.target.error)||void 0===u?void 0:u.message}))}})}),hw.apply(this,arguments)}const Ul=new Qi("@firebase/app-check");function gw(t,e){return si()?function ste(t,e){return function mF(t,e){return hw.apply(this,arguments)}(function yF(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Ul.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function _w(){return Eh().enabled}function yw(){return vw.apply(this,arguments)}function vw(){return vw=y(function*(){const t=Eh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),vw.apply(this,arguments)}const hte={error:"UNKNOWN_ERROR"};function fte(t){return Bd.encodeString(JSON.stringify(t),!1)}function Dh(t){return Ew.apply(this,arguments)}function Ew(){return Ew=y(function*(t,e=!1){const n=t.app;uw(n);const r=ke(n);let o,i=r.token;if(i&&!Us(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(Us(l)?i=l:yield gw(n,void 0))}if(!e&&i&&Us(i))return{token:i.token};let a,s=!1;if(_w()){r.exchangeTokenPromise||(r.exchangeTokenPromise=bh(fF(n,yield yw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const l=yield r.exchangeTokenPromise;return yield gw(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield ke(n).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Ul.warn(l.message):Ul.error(l),o=l}return i?o?a=Us(i)?{token:i.token,internalError:o}:wF(o):(a={token:i.token},r.token=i,yield gw(n,i)):a=wF(o),s&&function CF(t,e){const n=ke(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),Ew.apply(this,arguments)}function Cw(){return Cw=y(function*(t){const e=t.app;uw(e);const{provider:n}=ke(e);if(_w()){const r=yield yw(),{token:i}=yield bh(fF(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),Cw.apply(this,arguments)}function bw(t,e){const n=ke(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function EF(t){const{app:e}=t,n=ke(e);let r=n.tokenRefresher;r||(r=function pte(t){const{app:e}=t;return new Xee(y(function*(){let r;if(r=ke(e).token?yield Dh(t,!0):yield Dh(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=ke(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},hF.RETRIAL_MIN_WAIT,hF.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Us(t){return t.expireTimeMillis-Date.now()>0}function wF(t){return{token:fte(hte),error:t}}class gte{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=ke(this.app);for(const n of e)bw(this.app,n.next);return Promise.resolve()}}const RF="app-check-internal";!function Mte(){gn(new Ze("app-check",t=>function mte(t,e){return new gte(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(RF).initialize()})),gn(new Ze(RF,t=>function _te(t){return{getToken:e=>Dh(t,e),getLimitedUseToken:()=>function vF(t){return Cw.apply(this,arguments)}(t),addTokenListener:e=>function ww(t,e,n,r){const{app:i}=t,o=ke(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Us(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),EF(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>EF(t))}(t,"INTERNAL",e),removeTokenListener:e=>bw(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),mn("@firebase/app-check","0.8.0")}();class PF{constructor(){return Xv("app-check")}}typeof window<"u"&&window;const kF="@firebase/database";let Aw="";class Ote{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ut(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:wl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Fte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return tr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const OF=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ote(e)}}catch{}return new Fte},ho=OF("localStorage"),Mw=OF("sessionStorage"),Bs=new Qi("@firebase/database"),FF=function(){let t=1;return function(){return t++}}(),LF=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new J7;n.update(e);const r=n.digest();return Bd.encodeByteArray(r)},Bl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Bl.apply(null,r):e+="object"==typeof r?ut(r):r,e+=" "}return e};let fo=null,VF=!0;const it=function(...t){if(!0===VF&&(VF=!1,null===fo&&!0===Mw.get("logging_enabled")&&function(t,e){D(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Bs.logLevel=G.VERBOSE,fo=Bs.log.bind(Bs),e&&Mw.set("logging_enabled",!0)):"function"==typeof t?fo=t:(fo=null,Mw.remove("logging_enabled"))}(!0)),fo){const e=Bl.apply(null,t);fo(e)}},Hl=function(t){return function(...e){it(t,...e)}},Rw=function(...t){const e="FIREBASE INTERNAL ERROR: "+Bl(...t);Bs.error(e)},sr=function(...t){const e=`FIREBASE FATAL ERROR: ${Bl(...t)}`;throw Bs.error(e),new Error(e)},vt=function(...t){const e="FIREBASE WARNING: "+Bl(...t);Bs.warn(e)},Sh=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},fi="[MIN_NAME]",Br="[MAX_NAME]",po=function(t,e){if(t===e)return 0;if(t===fi||e===Br)return-1;if(e===fi||t===Br)return 1;{const n=$F(t),r=$F(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Ute=function(t,e){return t===e?0:t<e?-1:1},$l=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ut(e))},Nw=function(t){if("object"!=typeof t||null===t)return ut(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=ut(e[r]),n+=":",n+=Nw(t[e[r]]);return n+="}",n},BF=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const HF=function(t){D(!Sh(t),"Invalid JSON number");const r=1023;let i,o,s,a,l;0===t?(o=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(t/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},jte=new RegExp("^-?(0*)\\d{1,10}$"),$F=function(t){if(jte.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Hs=function(t){try{t()}catch(e){setTimeout(()=>{throw vt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},jl=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class qte{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Kte{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(it("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(e)}}let Wl=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const qF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,QF="websocket",JF="long_polling";class kw{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ho.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ho.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function XF(t,e,n){let r;if(D("string"==typeof e,"typeof type must == string"),D("object"==typeof n,"typeof params must == object"),e===QF)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==JF)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function Yte(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return ot(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class Qte{constructor(){this.counters_={}}incrementCounter(e,n=1){tr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return O7(this.counters_)}}const xw={},Ow={};function Fw(t){const e=t.toString();return xw[e]||(xw[e]=new Qte),xw[e]}class Xte{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Hs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class pi{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hl(e),this.stats_=Fw(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),XF(n,JF,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Xte(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Lw((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&qF.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pi.forceAllow_=!0}static forceDisallow(){pi.forceDisallow_=!0}static isAvailable(){return!(!pi.forceAllow_&&(pi.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ut(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=yk(n),i=BF(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ut(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Lw{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=FF(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Lw.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){it("frame writing exception"),a.stack&&it(a.stack),it(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||it("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{it("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Mh=null;typeof MozWebSocket<"u"?Mh=MozWebSocket:typeof WebSocket<"u"&&(Mh=WebSocket);let $s=(()=>{class t{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hl(this.connId),this.stats_=Fw(r),this.connURL=t.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&qF.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),XF(n,QF,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ho.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Mh(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Mh&&!t.forceDisallow_}static previouslyFailed(){return ho.isInMemoryStorage||!0===ho.get("previous_websocket_failure")}markConnectionHealthy(){ho.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=wl(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(D(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=ut(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=BF(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),o1=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[pi,$s]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=$s&&$s.isAvailable();let i=r&&!$s.previouslyFailed();if(n.webSocketOnly&&(r||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[$s];else{const o=this.transports_=[];for(const s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class h1{constructor(e,n,r,i,o,s,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hl("c:"+this.id+":"),this.transportManager_=new o1(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=jl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=$l("t",e),r=$l("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=$l("t",e),r=$l("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=$l("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?Rw("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rw("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),jl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ho.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class f1{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class p1{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Rh extends p1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!M_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Rh}getInitialEvent(e){return D("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ae{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function ne(){return new ae("")}function Y(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gi(t){return t.pieces_.length-t.pieceNum_}function fe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ae(t.pieces_,e)}function Uw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Gl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function _1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ae(e,0)}function we(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ae)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ae(n,0)}function Q(t){return t.pieceNum_>=t.pieces_.length}function Tt(t,e){const n=Y(t),r=Y(e);if(null===n)return e;if(n===r)return Tt(fe(t),fe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ene(t,e){const n=Gl(t,0),r=Gl(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=po(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Bw(t,e){if(gi(t)!==gi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function yn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(gi(t)>gi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Cne{constructor(e,n){this.errorPrefix_=n,this.parts_=Gl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Gd(this.parts_[r]);y1(this)}}function y1(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+go(t))}function go(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class Hw extends p1{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Hw}getInitialEvent(e){return D("visible"===e,"Unknown event type: "+e),[this.visible_]}}const zl=1e3;let Ph,mo=(()=>{class t extends f1{constructor(n,r,i,o,s,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=Hl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Hw.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Rh.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(ut(s)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new oi,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,l=>{const u=l.d,c=l.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),"ok"!==c&&this.removeListen_(i,o),n.onComplete&&n.onComplete(c,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&tr(n,"w")){const i=Rs(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=jd(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=jd(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ut(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):Rw("Unrecognized action received from server: "+ut(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=zl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=zl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return y(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,u=null;const c=function(){u?u.close():(l=!0,o())};n.realtime_={close:c,sendRequest:function(f){D(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);l?it("getToken() completed but was canceled"):(it("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,u=new h1(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,g=>{vt(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),l||(n.repoInfo_.nodeAdmin&&vt(f),c())}}})()}interrupt(n){it("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){it("Resuming connection for reason: "+n),delete this.interruptReasons_[n],wk(this.interruptReasons_)&&(this.reconnectDelay_=zl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>Nw(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new ae(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){it("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){it("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+Aw.replace(/\./g,"-")]=1,M_()?n["framework.cordova"]=1:Ck()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Rh.getInstance().currentlyOnline();return wk(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class J{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new J(e,n)}}class Nh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new J(fi,e),i=new J(fi,n);return 0!==this.compare(r,i)}minPost(){return J.MIN}}class C1 extends Nh{static get __EMPTY_NODE(){return Ph}static set __EMPTY_NODE(e){Ph=e}compare(e,n){return po(e.name,n.name)}isDefinedOn(e){throw Ss("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return J.MIN}maxPost(){return new J(Br,Ph)}makePost(e,n){return D("string"==typeof e,"KeyIndex indexValue must always be a string."),new J(e,Ph)}toString(){return".key"}}const ar=new C1;class kh{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let jw,kn=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??Bt.EMPTY_NODE,this.right=s??Bt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Bt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Bt{constructor(e,n=Bt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Bt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,kn.BLACK,null,null))}remove(e){return new Bt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new kh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new kh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new kh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new kh(this.root_,null,this.comparator_,!0,e)}}function Mne(t,e){return po(t.name,e.name)}function $w(t,e){return po(t,e)}Bt.EMPTY_NODE=new class Ane{copy(e,n,r,i,o){return this}insert(e,n,r){return new kn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const w1=function(t){return"number"==typeof t?"number:"+HF(t):"string:"+t},b1=function(t){if(t.isLeafNode()){const e=t.val();D("string"==typeof e||"number"==typeof e||"object"==typeof e&&tr(e,".sv"),"Priority must be a string or number.")}else D(t===jw||t.isEmpty(),"priority of unexpected type.");D(t===jw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let I1,D1,T1,js=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,D(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),b1(this.priorityNode_)}static set __childrenNodeConstructor(n){I1=n}static get __childrenNodeConstructor(){return I1}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Q(n)?this:".priority"===Y(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=Y(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(D(".priority"!==i||1===gi(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+w1(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?HF(this.value_):this.value_,this.lazyHash_=LF(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(D(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return D(o>=0,"Unknown leaf type: "+r),D(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const _e=new class kne extends Nh{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?po(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return J.MIN}maxPost(){return new J(Br,new js("[PRIORITY-POST]",T1))}makePost(e,n){const r=D1(e);return new J(n,new js("[PRIORITY-POST]",r))}toString(){return".priority"}},xne=Math.log(2);class One{constructor(e){this.count=parseInt(Math.log(e+1)/xne,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const xh=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(0===c)return null;if(1===c)return d=t[l],h=n?n(d):d,new kn(h,d.node,kn.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=t[f],h=n?n(d):d,new kn(h,d.node,kn.BLACK,p,g)}},a=function(l){let u=null,c=null,d=t.length;const h=function(p,g){const m=d-p,v=d;d-=p;const _=i(m+1,v),I=t[m],P=n?n(I):I;f(new kn(P,I.node,g,null,_))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),m=Math.pow(2,l.count-(p+1));g?h(m,kn.BLACK):(h(m,kn.BLACK),h(m,kn.RED))}return c}(new One(t.length));return new Bt(r||e,a)};let Ww;const Ws={};class Hr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(Ws&&_e,"ChildrenNode.ts has not been loaded"),Ww=Ww||new Hr({".priority":Ws},{".priority":_e}),Ww}get(e){const n=Rs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Bt?n:null}hasIndex(e){return tr(this.indexSet_,e.toString())}addIndex(e,n){D(e!==ar,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(J.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?xh(r,e.getCompare()):Ws;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Hr(c,u)}addToIndexes(e,n){const r=Wd(this.indexes_,(i,o)=>{const s=Rs(this.indexSet_,o);if(D(s,"Missing index implementation for "+o),i===Ws){if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(J.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),xh(a,s.getCompare())}return Ws}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new J(e.name,a))),l.insert(e,e.node)}});return new Hr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Wd(this.indexes_,i=>{if(i===Ws)return i;{const o=n.get(e.name);return o?i.remove(new J(e.name,o)):i}});return new Hr(r,this.indexSet_)}}let ql,z=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&b1(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ql||(ql=new t(new Bt($w),null,Hr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ql}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?ql:r}}getChild(n){const r=Y(n);return null===r?this:this.getImmediateChild(r).getChild(fe(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(D(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new J(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?ql:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){const i=Y(n);if(null===i)return r;{D(".priority"!==Y(n)||1===gi(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(fe(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(_e,(a,l)=>{r[a]=l.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+w1(this.getPriority().val())+":"),this.forEachChild(_e,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":LF(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new J(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new J(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new J(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,J.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,J.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Kl?-1:0}withIndex(n){if(n===ar||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ar||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(_e),o=r.getIterator(_e);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===ar?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Kl=new class Fne extends z{constructor(){super(new Bt($w),z.EMPTY_NODE,Hr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(J,{MIN:{value:new J(fi,z.EMPTY_NODE)},MAX:{value:new J(Br,Kl)}}),C1.__EMPTY_NODE=z.EMPTY_NODE,js.__childrenNodeConstructor=z,function Rne(t){jw=t}(Kl),function Pne(t){T1=t}(Kl);const Lne=!0;function Ae(t,e=null){if(null===t)return z.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),D(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new js(t,Ae(e));if(t instanceof Array||!Lne){let n=z.EMPTY_NODE;return ot(t,(r,i)=>{if(tr(t,r)&&"."!==r.substring(0,1)){const o=Ae(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ae(e))}{const n=[];let r=!1;if(ot(t,(s,a)=>{if("."!==s.substring(0,1)){const l=Ae(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new J(s,l)))}}),0===n.length)return z.EMPTY_NODE;const o=xh(n,Mne,s=>s.name,$w);if(r){const s=xh(n,_e.getCompare());return new z(o,Ae(e),new Hr({".priority":s},{".priority":_e}))}return new z(o,Ae(e),Hr.Default)}}!function Nne(t){D1=t}(Ae);class Gw extends Nh{constructor(e){super(),this.indexPath_=e,D(!Q(e)&&".priority"!==Y(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?po(e.name,n.name):o}makePost(e,n){const r=Ae(e),i=z.EMPTY_NODE.updateChild(this.indexPath_,r);return new J(n,i)}maxPost(){const e=z.EMPTY_NODE.updateChild(this.indexPath_,Kl);return new J(Br,e)}toString(){return Gl(this.indexPath_,0).join("/")}}const zw=new class Vne extends Nh{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?po(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return J.MIN}maxPost(){return J.MAX}makePost(e,n){const r=Ae(e);return new J(n,r)}toString(){return".value"}};function Ql(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class Kw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_e}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fi}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Br}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_e}copy(){const e=new Kw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function A1(t){const e={};if(t.isDefault())return e;let n;if(t.index_===_e?n="$priority":t.index_===zw?n="$value":t.index_===ar?n="$key":(D(t.index_ instanceof Gw,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ut(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ut(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ut(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ut(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ut(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function M1(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==_e&&(e.i=t.index_.toString()),e}class Fh extends f1{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Hl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Fh.getListenId_(e,r),a={};this.listens_[s]=a;const l=A1(e._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(o,d,!1,r),Rs(this.listens_,s)===a){let h;h=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(h,null)}})}unlisten(e,n){const r=Fh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=A1(e._queryParams),r=e._path.toString(),i=new oi;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+k_(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=wl(a.responseText)}catch{vt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&vt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class zne{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Lh(){return{value:null,children:new Map}}function zs(t,e,n){if(Q(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=Y(e);t.children.has(r)||t.children.set(r,Lh()),zs(t.children.get(r),e=fe(e),n)}}function Xw(t,e,n){null!==t.value?n(e,t.value):function qne(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{Xw(i,new ae(e.toString()+"/"+r),n)})}class Kne{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ot(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class Jne{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Kne(e);const r=1e4+2e4*Math.random();jl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ot(e,(i,o)=>{o>0&&tr(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),jl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var We=(()=>((We=We||{})[We.OVERWRITE=0]="OVERWRITE",We[We.MERGE=1]="MERGE",We[We.ACK_USER_WRITE=2]="ACK_USER_WRITE",We[We.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",We))();function tb(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Vh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=We.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Q(this.path)){if(null!=this.affectedTree.value)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ae(e));return new Vh(ne(),n,this.revert)}}return D(Y(this.path)===e,"operationForChild called for unrelated child."),new Vh(fe(this.path),this.affectedTree,this.revert)}}class _o{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=We.OVERWRITE}operationForChild(e){return Q(this.path)?new _o(this.source,ne(),this.snap.getImmediateChild(e)):new _o(this.source,fe(this.path),this.snap)}}class qs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=We.MERGE}operationForChild(e){if(Q(this.path)){const n=this.children.subtree(new ae(e));return n.isEmpty()?null:n.value?new _o(this.source,ne(),n.value):new qs(this.source,ne(),n)}return D(Y(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new qs(this.source,fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class mi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Q(e))return this.isFullyInitialized()&&!this.filtered_;const n=Y(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Zl(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>function tre(t,e,n){if(null==e.childName||null==n.childName)throw Ss("Should only compare child_ events.");const r=new J(e.childName,e.snapshotNode),i=new J(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),s.forEach(a=>{const l=function ere(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Uh(t,e){return{eventCache:t,serverCache:e}}function eu(t,e,n,r){return Uh(new mi(e,n,r),t.serverCache)}function N1(t,e,n,r){return Uh(t.eventCache,new mi(e,n,r))}function Bh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function yo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let nb;class ye{constructor(e,n=(()=>(nb||(nb=new Bt(Ute)),nb))()){this.value=e,this.children=n}static fromObject(e){let n=new ye(null);return ot(e,(r,i)=>{n=n.set(new ae(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:ne(),value:this.value};if(Q(e))return null;{const r=Y(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(fe(e),n);return null!=o?{path:we(new ae(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Q(e))return this;{const n=Y(e),r=this.children.get(n);return null!==r?r.subtree(fe(e)):new ye(null)}}set(e,n){if(Q(e))return new ye(n,this.children);{const r=Y(e),o=(this.children.get(r)||new ye(null)).set(fe(e),n),s=this.children.insert(r,o);return new ye(this.value,s)}}remove(e){if(Q(e))return this.children.isEmpty()?new ye(null):new ye(null,this.children);{const n=Y(e),r=this.children.get(n);if(r){const i=r.remove(fe(e));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new ye(null):new ye(this.value,o)}return this}}get(e){if(Q(e))return this.value;{const n=Y(e),r=this.children.get(n);return r?r.get(fe(e)):null}}setTree(e,n){if(Q(e))return n;{const r=Y(e),o=(this.children.get(r)||new ye(null)).setTree(fe(e),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new ye(this.value,s)}}fold(e){return this.fold_(ne(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(we(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ne(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(Q(e))return null;{const o=Y(e),s=this.children.get(o);return s?s.findOnPath_(fe(e),we(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ne(),n)}foreachOnPath_(e,n,r){if(Q(e))return this;{this.value&&r(n,this.value);const i=Y(e),o=this.children.get(i);return o?o.foreachOnPath_(fe(e),we(n,i),r):new ye(null)}}foreach(e){this.foreach_(ne(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(we(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class xn{constructor(e){this.writeTree_=e}static empty(){return new xn(new ye(null))}}function tu(t,e,n){if(Q(e))return new xn(new ye(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=Tt(i,e);return o=o.updateChild(s,n),new xn(t.writeTree_.set(i,o))}{const i=new ye(n),o=t.writeTree_.setTree(e,i);return new xn(o)}}}function rb(t,e,n){let r=t;return ot(n,(i,o)=>{r=tu(r,we(e,i),o)}),r}function P1(t,e){if(Q(e))return xn.empty();{const n=t.writeTree_.setTree(e,new ye(null));return new xn(n)}}function ib(t,e){return null!=vo(t,e)}function vo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Tt(n.path,e)):null}function k1(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(_e,(r,i)=>{e.push(new J(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new J(r,i.value))}),e}function _i(t,e){if(Q(e))return t;{const n=vo(t,e);return new xn(null!=n?new ye(n):t.writeTree_.subtree(e))}}function ob(t){return t.writeTree_.isEmpty()}function Ks(t,e){return x1(ne(),t.writeTree_,e)}function x1(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?(D(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=x1(we(t,i),o,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(we(t,".priority"),r)),n}}function Hh(t,e){return U1(e,t)}function are(t,e){if(t.snap)return yn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&yn(we(t.path,n),e))return!0;return!1}function ure(t){return t.visible}function O1(t,e,n){let r=xn.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)yn(n,s)?(a=Tt(n,s),r=tu(r,a,o.snap)):yn(s,n)&&(a=Tt(s,n),r=tu(r,ne(),o.snap.getChild(a)));else{if(!o.children)throw Ss("WriteRecord should have .snap or .children");if(yn(n,s))a=Tt(n,s),r=rb(r,a,o.children);else if(yn(s,n))if(a=Tt(s,n),Q(a))r=rb(r,ne(),o.children);else{const l=Rs(o.children,Y(a));if(l){const u=l.getChild(fe(a));r=tu(r,ne(),u)}}}}}return r}function F1(t,e,n,r,i){if(r||i){const o=_i(t.visibleWrites,e);return!i&&ob(o)?n:i||null!=n||ib(o,ne())?Ks(O1(t.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(yn(u.path,e)||yn(e,u.path))},e),n||z.EMPTY_NODE):null}{const o=vo(t.visibleWrites,e);if(null!=o)return o;{const s=_i(t.visibleWrites,e);return ob(s)?n:null!=n||ib(s,ne())?Ks(s,n||z.EMPTY_NODE):null}}}function $h(t,e,n,r){return F1(t.writeTree,t.treePath,e,n,r)}function sb(t,e){return function cre(t,e,n){let r=z.EMPTY_NODE;const i=vo(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(_e,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=_i(t.visibleWrites,e);return n.forEachChild(_e,(s,a)=>{const l=Ks(_i(o,new ae(s)),a);r=r.updateImmediateChild(s,l)}),k1(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return k1(_i(t.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(t.writeTree,t.treePath,e)}function L1(t,e,n,r){return function dre(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=we(e,n);if(ib(t.visibleWrites,o))return null;{const s=_i(t.visibleWrites,o);return ob(s)?i.getChild(n):Ks(s,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function jh(t,e){return function fre(t,e){return vo(t.visibleWrites,e)}(t.writeTree,we(t.treePath,e))}function ab(t,e,n){return function hre(t,e,n,r){const i=we(e,n),o=vo(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Ks(_i(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function V1(t,e){return U1(we(t.treePath,e),t.writeTree)}function U1(t,e){return{treePath:t,writeTree:e}}class _re{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),D(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Ql(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,function Yl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,function Gs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw Ss("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Ql(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const B1=new class yre{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class lb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new mi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ab(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:yo(this.viewCache_),o=function mre(t,e,n,r,i,o){return function pre(t,e,n,r,i,o,s){let a;const l=_i(t.visibleWrites,e),u=vo(l,ne());if(null!=u)a=u;else{if(null==n)return[];a=Ks(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const c=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&c.length<i;)0!==d(f,r)&&c.push(f),f=h.getNext();return c}}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,i,n,1,r,e);return 0===o.length?null:o[0]}}function H1(t,e,n,r,i,o){const s=e.eventCache;if(null!=jh(r,n))return e;{let a,l;if(Q(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=yo(e),d=sb(r,u instanceof z?u:z.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const u=$h(r,yo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=Y(n);if(".priority"===u){D(1===gi(n),"Can't have a priority with additional path components");const c=s.getNode();l=e.serverCache.getNode();const d=L1(r,n,c,l);a=null!=d?t.filter.updatePriority(c,d):s.getNode()}else{const c=fe(n);let d;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const h=L1(r,n,s.getNode(),l);d=null!=h?s.getNode().getImmediateChild(u).updateChild(c,h):s.getNode().getImmediateChild(u)}else d=ab(r,u,e.serverCache);a=null!=d?t.filter.updateChild(s.getNode(),u,d,c,i,o):s.getNode()}}return eu(e,a,s.isFullyInitialized()||Q(n),t.filter.filtersNodes())}}function Wh(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const c=s?t.filter:t.filter.getIndexedFilter();if(Q(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=Y(n);if(!l.isCompleteForPath(n)&&gi(n)>1)return e;const p=fe(n),m=l.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?c.updatePriority(l.getNode(),m):c.updateChild(l.getNode(),f,m,p,B1,null)}const d=N1(e,u,l.isFullyInitialized()||Q(n),c.filtersNodes());return H1(t,d,n,i,new lb(i,d,o),a)}function ub(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const c=new lb(i,e,o);if(Q(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=eu(e,u,!0,t.filter.filtersNodes());else{const d=Y(n);if(".priority"===d)u=t.filter.updatePriority(e.eventCache.getNode(),r),l=eu(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=fe(n),f=a.getNode().getImmediateChild(d);let p;if(Q(h))p=r;else{const g=c.getCompleteChild(d);p=null!=g?".priority"===Uw(h)&&g.getChild(_1(h)).isEmpty()?g:g.updateChild(h,r):z.EMPTY_NODE}l=f.equals(p)?e:eu(e,t.filter.updateChild(a.getNode(),d,p,h,c,s),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function $1(t,e){return t.eventCache.isCompleteForChild(e)}function j1(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function cb(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u,l=e;u=Q(n)?r:new ye(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=j1(0,e.serverCache.getNode().getImmediateChild(d),h);l=Wh(t,l,new ae(d),p,i,o,s,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!c.hasChild(d)&&!f){const g=j1(0,e.serverCache.getNode().getImmediateChild(d),h);l=Wh(t,l,new ae(d),g,i,o,s,a)}}),l}function Rre(t,e){const n=yo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Q(e)&&!n.getImmediateChild(Y(e)).isEmpty())?n.getChild(e):null}function z1(t,e,n,r){e.type===We.MERGE&&null!==e.source.queryId&&(D(yo(t.viewCache_),"We should always have a full cache before handling merges"),D(Bh(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=function Cre(t,e,n,r,i){const o=new _re;let s,a;if(n.type===We.OVERWRITE){const u=n;u.source.fromUser?s=ub(t,e,u.path,u.snap,r,i,o):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Q(u.path),s=Wh(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===We.MERGE){const u=n;u.source.fromUser?s=function bre(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const c=we(n,l);$1(e,Y(c))&&(a=ub(t,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=we(n,l);$1(e,Y(c))||(a=ub(t,a,c,u,i,o,s))}),a}(t,e,u.path,u.children,r,i,o):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=cb(t,e,u.path,u.children,r,i,a,o))}else if(n.type===We.ACK_USER_WRITE){const u=n;s=u.revert?function Tre(t,e,n,r,i,o){let s;if(null!=jh(r,n))return e;{const a=new lb(r,e,i),l=e.eventCache.getNode();let u;if(Q(n)||".priority"===Y(n)){let c;if(e.serverCache.isFullyInitialized())c=$h(r,yo(e));else{const d=e.serverCache.getNode();D(d instanceof z,"serverChildren would be complete if leaf node"),c=sb(r,d)}u=t.filter.updateFullNode(l,c,o)}else{const c=Y(n);let d=ab(r,c,e.serverCache);null==d&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),u=null!=d?t.filter.updateChild(l,c,d,fe(n),a,o):e.eventCache.getNode().hasChild(c)?t.filter.updateChild(l,c,z.EMPTY_NODE,fe(n),a,o):l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=$h(r,yo(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=jh(r,ne()),eu(e,u,s,t.filter.filtersNodes())}}(t,e,u.path,r,i,o):function Ire(t,e,n,r,i,o,s){if(null!=jh(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(Q(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Wh(t,e,n,l.getNode().getChild(n),i,o,a,s);if(Q(n)){let u=new ye(null);return l.getNode().forEachChild(ar,(c,d)=>{u=u.set(new ae(c),d)}),cb(t,e,n,u,i,o,a,s)}return e}{let u=new ye(null);return r.foreach((c,d)=>{const h=we(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),cb(t,e,n,u,i,o,a,s)}}(t,e,u.path,u.affectedTree,r,i,o)}else{if(n.type!==We.LISTEN_COMPLETE)throw Ss("Unknown operation type: "+n.type);s=function Dre(t,e,n,r,i){const o=e.serverCache;return H1(t,N1(e,o.getNode(),o.isFullyInitialized()||Q(n),o.isFiltered()),n,r,B1,i)}(t,e,n.path,r,o)}const l=o.getChanges();return function wre(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Bh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(function S1(t){return{type:"value",snapshotNode:t}}(Bh(e)))}}(e,s,l),{viewCache:s,changes:l}}(t.processor_,i,e,n,r);return function Ere(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,o.viewCache),D(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,function q1(t,e,n,r){return function Zne(t,e,n,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function Une(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(s.childName,s.snapshotNode))}),Zl(t,i,"child_removed",e,r,n),Zl(t,i,"child_added",e,r,n),Zl(t,i,"child_moved",o,r,n),Zl(t,i,"child_changed",e,r,n),Zl(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,o.changes,o.viewCache.eventCache.getNode(),null)}let Gh,qh;function db(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return D(null!=o,"SyncTree gave us an op for an invalid query."),z1(o,e,n,r)}{let o=[];for(const s of t.views.values())o=o.concat(z1(s,e,n,r));return o}}function yi(t,e){let n=null;for(const r of t.views.values())n=n||Rre(r,e);return n}class Z1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ye(null),this.pendingWriteTree_=function gre(){return{visibleWrites:xn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hb(t,e,n,r,i){return function rre(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=tu(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Ys(t,new _o({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Ei(t,e,n=!1){const r=function ore(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function sre(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&are(a,r.path)?i=!1:yn(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function lre(t){t.visibleWrites=O1(t.allWrites,ure,ne()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=P1(t.visibleWrites,r.path):ot(r.children,l=>{t.visibleWrites=P1(t.visibleWrites,we(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let o=new ye(null);return null!=r.snap?o=o.set(ne(),!0):ot(r.children,s=>{o=o.set(new ae(s),!0)}),Ys(t,new Vh(r.path,o,n))}return[]}function nu(t,e,n){return Ys(t,new _o({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Yh(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const u=yi(a,Tt(s,e));if(u)return u});return F1(i,e,o,n,!0)}function Ys(t,e){return tL(e,t.syncPointTree_,null,Hh(t.pendingWriteTree_,ne()))}function tL(t,e,n,r){if(Q(t.path))return nL(t,e,n,r);{const i=e.get(ne());null==n&&null!=i&&(n=yi(i,ne()));let o=[];const s=Y(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=V1(r,s);o=o.concat(tL(a,l,u,c))}return i&&(o=o.concat(db(i,t,r,n))),o}}function nL(t,e,n,r){const i=e.get(ne());null==n&&null!=i&&(n=yi(i,ne()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=V1(r,s),c=t.operationForChild(s);c&&(o=o.concat(nL(c,a,l,u)))}),i&&(o=o.concat(db(i,t,r,n))),o}function pb(t,e){return t.tagToQueryMap.get(e)}function gb(t){const e=t.indexOf("$");return D(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ae(t.substr(0,e))}}function mb(t,e,n){const r=t.syncPointTree_.get(e);return D(r,"Missing sync point for query tag that we're tracking"),db(r,n,Hh(t.pendingWriteTree_,e),null)}class _b{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new _b(n)}node(){return this.node_}}class yb{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=we(this.path_,e);return new yb(this.syncTree_,n)}node(){return Yh(this.syncTree_,this.path_)}}const Jre=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},iL=function(t,e,n){return t&&"object"==typeof t?(D(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Xre(t[".sv"],e,n):"object"==typeof t[".sv"]?Zre(t[".sv"],e):void D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Xre=function(t,e,n){if("timestamp"===t)return n.timestamp;D(!1,"Unexpected server value: "+t)},Zre=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},oL=function(t,e,n,r){return Eb(e,new yb(n,t),r)},vb=function(t,e,n){return Eb(t,new _b(e),n)};function Eb(t,e,n){const r=t.getPriority().val(),i=iL(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=iL(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new js(a,Ae(i)):t}{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new js(i))),s.forEachChild(_e,(a,l)=>{const u=Eb(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}class Cb{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Jh(t,e){let n=e instanceof ae?e:new ae(e),r=t,i=Y(n);for(;null!==i;){const o=Rs(r.node.children,i)||{children:{},childCount:0};r=new Cb(i,r,o),n=fe(n),i=Y(n)}return r}function Eo(t){return t.node.value}function wb(t,e){t.node.value=e,bb(t)}function sL(t){return t.node.childCount>0}function Xh(t,e){ot(t.node.children,(n,r)=>{e(new Cb(n,t,r))})}function aL(t,e,n,r){n&&!r&&e(t),Xh(t,i=>{aL(i,e,!0,r)}),n&&r&&e(t)}function ou(t){return new ae(null===t.parent?t.name:ou(t.parent)+"/"+t.name)}function bb(t){null!==t.parent&&function nie(t,e,n){const r=function eie(t){return void 0===Eo(t)&&!sL(t)}(n),i=tr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,bb(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,bb(t))}(t.parent,t.name,t)}const rie=/[\[\].#$\/\u0000-\u001F\u007F]/,iie=/[\[\].#$\u0000-\u001F\u007F]/,Ib=10485760,Zh=function(t){return"string"==typeof t&&0!==t.length&&!rie.test(t)},lL=function(t){return"string"==typeof t&&0!==t.length&&!iie.test(t)},au=function(t,e,n){const r=n instanceof ae?new Cne(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+go(r));if("function"==typeof e)throw new Error(t+"contains a function "+go(r)+" with contents = "+e.toString());if(Sh(e))throw new Error(t+"contains "+e.toString()+" "+go(r));if("string"==typeof e&&e.length>Ib/3&&Gd(e)>Ib)throw new Error(t+"contains a string greater than "+Ib+" utf8 bytes "+go(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(ot(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Zh(s)))throw new Error(t+" contains an invalid key ("+s+") "+go(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function wne(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Gd(e),y1(t)})(r,s),au(t,a,r),function bne(t){const e=t.parts_.pop();t.byteLength_-=Gd(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+go(r)+" in addition to actual children.")}},uL=function(t,e,n,r){if(r&&void 0===e)return;const i=Ki(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];ot(e,(s,a)=>{const l=new ae(s);if(au(i,a,we(n,l)),".priority"===Uw(l)&&!function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Sh(t)||t&&"object"==typeof t&&tr(t,".sv")}(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=Gl(r);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!Zh(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Ene);let i=null;for(n=0;n<e.length;n++){if(r=e[n],null!==i&&yn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},Tb=function(t,e,n,r){if(!(r&&void 0===n||lL(n)))throw new Error(Ki(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},aie=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Tb(t,e,n,r)};class lie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ef(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==n&&!Bw(o,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function en(t,e,n){ef(t,n),function hL(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(uie(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>yn(r,e)||yn(e,r))}function uie(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();fo&&it("event: "+n.toString()),Hs(r)}}}const cie=25;class die{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lh(),this.transactionQueueTree_=new Cb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pL(t){const n=t.infoData_.getNode(new ae(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function uu(t){return Jre({timestamp:pL(t)})}function gL(t,e,n,r,i){t.dataUpdateCount++;const o=new ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=Wd(n,u=>Ae(u));s=function Gre(t,e,n,r){const i=pb(t,r);if(i){const o=gb(i),s=o.path,a=o.queryId,l=Tt(s,e),u=ye.fromObject(n);return mb(t,s,new qs(tb(a),l,u))}return[]}(t.serverSyncTree_,o,l,i)}else{const l=Ae(n);s=function eL(t,e,n,r){const i=pb(t,r);if(null!=i){const o=gb(i),s=o.path,a=o.queryId,l=Tt(s,e);return mb(t,s,new _o(tb(a),l,n))}return[]}(t.serverSyncTree_,o,l,i)}else if(r){const l=Wd(n,u=>Ae(u));s=function $re(t,e,n){const r=ye.fromObject(n);return Ys(t,new qs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,l)}else{const l=Ae(n);s=nu(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Js(t,o)),en(t.eventQueue_,a,s)}function mL(t,e){Sb(t,"connected",e),!1===e&&function mie(t){Qs(t,"onDisconnectEvents");const e=uu(t),n=Lh();Xw(t.onDisconnect_,ne(),(i,o)=>{const s=oL(i,o,t.serverSyncTree_,e);zs(n,i,s)});let r=[];Xw(n,ne(),(i,o)=>{r=r.concat(nu(t.serverSyncTree_,i,o));const s=Nb(t,i);Js(t,s)}),t.onDisconnect_=Lh(),en(t.eventQueue_,ne(),r)}(t)}function Sb(t,e,n){const r=new ae("/.info/"+e),i=Ae(n);t.infoData_.updateSnapshot(r,i);const o=nu(t.infoSyncTree_,r,i);en(t.eventQueue_,r,o)}function tf(t){return t.nextWriteId_++}function Qs(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),it(n,...e)}function Ci(t,e,n,r){e&&Hs(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function Rb(t,e,n){return Yh(t.serverSyncTree_,e,n)||z.EMPTY_NODE}function nf(t,e=t.transactionQueueTree_){if(e||rf(t,e),Eo(e)){const n=EL(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function bie(t,e,n){const r=n.map(u=>u.currentWriteId),i=Rb(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];D(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Tt(e,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Qs(t,"transaction put response",{path:l.toString(),status:u});let c=[];if("ok"===u){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Ei(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();rf(t,Jh(t.transactionQueueTree_,e)),nf(t,t.transactionQueueTree_),en(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Hs(d[h])}else{if("datastale"===u)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{vt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Js(t,e)}},s)}(t,ou(e),n)}else sL(e)&&Xh(e,n=>{nf(t,n)})}function Js(t,e){const n=vL(t,e),r=ou(n);return function Iie(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Tt(n,l.path);let d,c=!1;if(D(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)c=!0,d=l.abortReason,i=i.concat(Ei(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=cie)c=!0,d="maxretry",i=i.concat(Ei(t.serverSyncTree_,l.currentWriteId,!0));else{const h=Rb(t,l.path,s);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){au("transaction failed: Data returned ",f,l.path);let p=Ae(f);"object"==typeof f&&null!=f&&tr(f,".priority")||(p=p.updatePriority(h.getPriority()));const m=l.currentWriteId,v=uu(t),_=vb(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=tf(t),s.splice(s.indexOf(m),1),i=i.concat(hb(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(Ei(t.serverSyncTree_,m,!0))}else c=!0,d="nodata",i=i.concat(Ei(t.serverSyncTree_,l.currentWriteId,!0))}en(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}rf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Hs(r[a]);nf(t,t.transactionQueueTree_)}(t,EL(t,n),r),r}function vL(t,e){let n,r=t.transactionQueueTree_;for(n=Y(e);null!==n&&void 0===Eo(r);)r=Jh(r,n),n=Y(e=fe(e));return r}function EL(t,e){const n=[];return CL(t,e,n),n.sort((r,i)=>r.order-i.order),n}function CL(t,e,n){const r=Eo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Xh(e,i=>{CL(t,i,n)})}function rf(t,e){const n=Eo(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,wb(e,n.length>0?n:void 0)}Xh(e,r=>{rf(t,r)})}function Nb(t,e){const n=ou(vL(t,e)),r=Jh(t.transactionQueueTree_,e);return function tie(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{Pb(t,i)}),Pb(t,r),aL(r,i=>{Pb(t,i)}),n}function Pb(t,e){const n=Eo(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(D(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(D(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Ei(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?wb(e,void 0):n.length=o+1,en(t.eventQueue_,ou(e),i);for(let s=0;s<r.length;s++)Hs(r[s])}}const kb=function(t,e){const n=Sie(t),r=n.namespace;return"firebase.com"===n.domain&&sr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&sr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new kw(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new ae(n.pathString)}},Sie=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"==typeof t){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");-1===c&&(c=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=function Die(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(c,d)));const h=function Tie(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vt(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(s="https"===a||"wss"===a,l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class tn{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Q(this._path)?null:Uw(this._path)}get ref(){return new On(this._repo,this._path)}get _queryIdentifier(){const e=M1(this._queryParams),n=Nw(e);return"{}"===n?"default":n}get _queryObject(){return M1(this._queryParams)}isEqual(e){if(!((e=Pn(e))instanceof tn))return!1;const n=this._repo===e._repo,r=Bw(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function vne(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class On extends tn{constructor(e,n){super(e,n,new Kw,!1)}get parent(){const e=_1(this._path);return null===e?null:new On(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}function DL(t,e){return(t=Pn(t))._checkNotDeleted("ref"),void 0!==e?function Xs(t,e){return null===Y((t=Pn(t))._path)?aie("child","path",e,!1):Tb("child","path",e,!1),new On(t._repo,we(t._path,e))}(t._root,e):t._root}function Ob(t,e){(function(t,e){if(".info"===Y(e))throw new Error(t+" failed = Can't modify data under /.info/")})("set",(t=Pn(t))._path),function(t,e,n,r){r&&void 0===e||au(Ki(t,"value"),e,n)}("set",e,t._path,!1);const n=new oi;return function Ab(t,e,n,r,i){Qs(t,"set",{path:e.toString(),value:n,priority:r});const o=uu(t),s=Ae(n,r),a=Yh(t.serverSyncTree_,e),l=vb(s,a,o),u=tf(t),c=hb(t.serverSyncTree_,e,l,u,!0);ef(t.eventQueue_,c),t.server_.put(e.toString(),s.val(!0),(h,f)=>{const p="ok"===h;p||vt("set at "+e+" failed: "+h);const g=Ei(t.serverSyncTree_,u,!p);en(t.eventQueue_,e,g),Ci(0,i,h,f)});const d=Nb(t,e);Js(t,d),en(t.eventQueue_,d,[])}(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Rie(t,e){uL("update",e,t._path,!1);const n=new oi;return function gie(t,e,n,r){Qs(t,"update",{path:e.toString(),value:n});let i=!0;const o=uu(t),s={};if(ot(n,(a,l)=>{i=!1,s[a]=oL(we(e,a),Ae(l),t.serverSyncTree_,o)}),i)it("update() called with empty data.  Don't do anything."),Ci(0,r,"ok",void 0);else{const a=tf(t),l=function Hre(t,e,n,r){!function ire(t,e,n,r){D(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=rb(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);const i=ye.fromObject(n);return Ys(t,new qs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,a);ef(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,c)=>{const d="ok"===u;d||vt("update at "+e+" failed: "+u);const h=Ei(t.serverSyncTree_,a,!d),f=h.length>0?Js(t,e):e;en(t.eventQueue_,f,h),Ci(0,r,u,c)}),ot(n,u=>{const c=Nb(t,we(e,u));Js(t,c)}),en(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}(function kre(t){D(!Gh,"__referenceConstructor has already been defined"),Gh=t})(On),function Vre(t){D(!qh,"__referenceConstructor has already been defined"),qh=t}(On);const Fb={};function jie(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||sr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),it("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,u,s=kb(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=kb(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new Wl(Wl.OWNER):new Kte(t.name,t.options,e);(function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Zh(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),lL(t)}(n))throw new Error(Ki(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",s),Q(s.path)||sr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Gie(t,e,n,r){let i=Fb[e.name];i||(i={},Fb[e.name]=i);let o=i[t.toURLString()];return o&&sr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new die(t,false,n,r),i[t.toURLString()]=o,o}(a,t,c,new qte(t.name,n));return new qie(d,t)}class qie{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function hie(t,e,n){if(t.stats_=Fw(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Fh(t.repoInfo_,(r,i,o,s)=>{gL(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>mL(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ut(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new mo(t.repoInfo_,e,(r,i,o,s)=>{gL(t,r,i,o,s)},r=>{mL(t,r)},r=>{!function fie(t,e){ot(e,(n,r)=>{Sb(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function Jte(t,e){const n=t.toString();return Ow[n]||(Ow[n]=e()),Ow[n]}(t.repoInfo_,()=>new Jne(t.stats_,t.server_)),t.infoData_=new zne,t.infoSyncTree_=new Z1({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=nu(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Sb(t,"connected",!1),t.serverSyncTree_=new Z1({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);en(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new On(this._repo,ne())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Wie(t,e){const n=Fb[e];(!n||n[t.key]!==t)&&sr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function yL(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&sr("Cannot call "+e+" on a deleted database.")}}function Kie(t=xk(),e){const n=function Pk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=$d())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("database");r&&function Yie(t,e,n,r={}){(t=Pn(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&sr("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&sr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Wl(Wl.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:function W7(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[As(JSON.stringify({alg:"none",type:"JWT"})),As(JSON.stringify(s)),""].join(".")}(r.mockUserToken,t.app.options.projectId);o=new Wl(s)}!function $ie(t,e,n,r){t.repoInfo_=new kw(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,o)}(n,...r)}return n}mo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},mo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function Qie(t){(function xte(t){Aw=t})(Kd),Ns(new Ze("database",(e,{instanceIdentifier:n})=>jie(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),pn(kF,"0.14.4",t),pn(kF,"0.14.4","esm2017")}();class uf{constructor(e){return e}}const RL="database",Lb=new T("angularfire2.database-instances");function toe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new uf(r)}}const noe={provide:class Zie{constructor(){return Xv(RL)}},deps:[[new kt,Lb]]},roe={provide:uf,useFactory:function eoe(t,e){const n=function Jv(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(RL,t,e);return n&&new uf(n)},deps:[[new kt,Lb],Os]};let ioe=(()=>{class t{constructor(){pn("angularfire",jv.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=St({providers:[roe,noe]}),t})();function ooe(t,...e){return{ngModule:ioe,providers:[{provide:Lb,useFactory:toe(t),multi:!0,deps:[ge,ln,tO,nO,[new kt,cF],[new kt,PF],...e]}]}}const soe=Sl(Kie,!0),NL=Sl(DL,!0),aoe=Sl(Ob,!0),loe=Sl(Rie,!0);let uoe=(()=>{class t{constructor(n){this.http=n,this.url="https://user-angular-firebase-default-rtdb.firebaseio.com/reservation.json"}getReservationData(){return this.http.get(this.url)}}return t.\u0275fac=function(n){return new(n||t)(R(ik))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function coe(t,e){if(1&t&&(Ue(0,"div"),Dn(1),Qe()),2&t){const n=e.$implicit;Cr(1),xc(" ",n," ")}}function doe(t,e){if(1&t&&(Ue(0,"div",17)(1,"h2"),Dn(2,"Booked Seat Numbers Are"),Qe(),Ue(3,"div",18),Mc(4,coe,2,1,"div",13),Qe()()),2&t){const n=nA();Cr(4),Oi("ngForOf",n.bookedSeates)}}function hoe(t,e){if(1&t&&(Ue(0,"div"),Yr(1,"img",19),Ue(2,"button"),Dn(3),Qe()()),2&t){const n=e.$implicit;Cr(1),Nc("background-color",!0===n.booked?"coral":""),Cr(2),_g(n.seatNo)}}let foe=(()=>{class t{constructor(n,r){this.database=n,this.reservationService=r,this.title="booking.com",this.totalSeats=0,this.btnDisable=!0,this.seatNumbers=!1,this.url="https://user-angular-firebase-default-rtdb.firebaseio.com/users"}ngOnInit(){this.seatNumbers=!1,this.bookedSeates=[],this.updateSeats=[],this.reservationService.getReservationData().subscribe(n=>{this.seatData=n,console.log(this.seatData)})}validateSeats(n){n>7||n<=0||null==n?this.btnDisable=!0:(this.totalSeats=n,this.btnDisable=!1)}bookNow(){console.log("total seats",this.totalSeats),this.availableSeats=this.seatData.filter(n=>!1===n.booked),this.updateSeats=this.availableSeats.slice(0,this.totalSeats),this.updateSeats.map(n=>{loe(NL(this.database,"reservation/"+n.id),{booked:!0}),this.bookedSeates.push(n.seatNo),console.log(this.bookedSeates),this.seatNumbers=!0})}update(){for(let n=0;n<=80;n++)aoe(NL(this.database,"reservation/"+n),{id:n,seatNo:n+1,booked:!1})}}return t.\u0275fac=function(n){return new(n||t)(w(uf),w(uoe))},t.\u0275cmp=Nf({type:t,selectors:[["app-root"]],decls:30,vars:6,consts:[[1,"booking_logo"],[2,"background-color","darkslateblue"],["src","assets/img/logo.png","alt","",1,"logo"],["src","assets/img/booking logo.png","alt","",1,"banner"],[1,"input"],["type","number","required","",3,"ngModel","ngModelChange"],[2,"color","red","font-size","1.5rem","font-weight","bold","left","6rem","position","relative"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn-btn-primary"],["class","seatsBooked",4,"ngIf"],[1,"available"],[2,"display","flex"],[1,"seats"],[4,"ngFor","ngForOf"],[1,"mybtn"],[1,"btn1"],[1,"btn2"],[1,"seatsBooked"],[1,"seatNumbers"],["src","assets/img/seat.png","alt",""]],template:function(n,r){1&n&&(Ue(0,"div",0)(1,"div",1),Yr(2,"img",2),Qe(),Ue(3,"div"),Yr(4,"img",3),Qe()(),Ue(5,"div",4)(6,"h2"),Dn(7,"Enter Number of seates you want to book"),Qe(),Ue(8,"input",5),Ft("ngModelChange",function(o){return r.validateSeats(o)}),Qe(),Ue(9,"div",6),Dn(10,"* you can book max 7 tickets at one time "),Qe(),Ue(11,"div")(12,"button",7),Ft("click",function(){return r.bookNow()}),Dn(13,"Book now"),Qe(),Ue(14,"button",8),Dn(15,"clear"),Qe()(),Mc(16,doe,5,1,"div",9),Qe(),Ue(17,"div",10)(18,"h2"),Dn(19,"Total seats Mapping"),Qe(),Ue(20,"div",11)(21,"div",12),Mc(22,hoe,4,3,"div",13),Qe(),Ue(23,"div",14),Yr(24,"button",15),Ue(25,"span"),Dn(26,"Occupied"),Qe(),Yr(27,"button",16),Ue(28,"span"),Dn(29,"Available"),Qe()()()()),2&n&&(Cr(8),Oi("ngModel",r.totalSeats),Cr(4),Nc("background-color",!0===r.btnDisable?"darkgrey":""),Oi("disabled",r.btnDisable),Cr(4),Oi("ngIf",r.seatNumbers),Cr(6),Oi("ngForOf",r.seatData))},dependencies:[dR,fR,ad,zm,mN,yd,Gm],styles:[".booking_logo[_ngcontent-%COMP%]{display:flex;flex-direction:column}.logo[_ngcontent-%COMP%]{margin:7px;width:20rem;height:12rem;border-radius:30px}.banner[_ngcontent-%COMP%]{height:36rem;width:100%}.input[_ngcontent-%COMP%]{height:18rem}.input[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem}.input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:2rem;border:2px solid;border-radius:5px;position:relative;left:6rem}.input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:18rem;height:3rem;margin-top:20px;margin-right:10px;font-weight:700;color:#fff;font-size:2rem;background-color:#cd5c5c;left:6rem;position:relative}.seats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);width:65%;gap:40px}.seats[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:6rem;height:6rem;border:3px solid;border-radius:7px}.mybtn[_ngcontent-%COMP%]{width:40%;display:flex;top:10rem;position:relative;flex-direction:column;left:12rem}.mybtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:2rem}.mybtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2rem;height:2rem;display:grid;grid-template-columns:repeat(1,1fr);gap:2rem}.mybtn[_ngcontent-%COMP%]   .btn1[_ngcontent-%COMP%]{background-color:coral}.mybtn[_ngcontent-%COMP%]   .btn2[_ngcontent-%COMP%]{background-color:#fff}.seatsBooked[_ngcontent-%COMP%]{justify-content:center;display:grid;border:2px solid;margin:3rem;width:45rem;height:11rem;left:30%;position:relative}.available[_ngcontent-%COMP%]{top:15rem;position:relative}.available[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem;background-color:#6495ed;color:#fff8dc}.seatNumbers[_ngcontent-%COMP%]{display:flex;gap:2em;background-color:#7fffd4;justify-content:center;bottom:22px;position:relative;color:red;font-size:1.5rem}"]}),t})();const poe_firebase={projectId:"user-angular-firebase",appId:"1:540492078192:web:680e5b8bdbe7155e12e8b5",databaseURL:"https://user-angular-firebase-default-rtdb.firebaseio.com",storageBucket:"user-angular-firebase.appspot.com",apiKey:"AIzaSyDVhXbHnIJn25l9dUwXmJt7dItC1tbcG-Y",authDomain:"user-angular-firebase.firebaseapp.com",messagingSenderId:"540492078192"};let goe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t,bootstrap:[foe]}),t.\u0275inj=St({imports:[E4,P7,P6,b_,D7,gX(()=>mX(poe_firebase)),ooe(()=>soe())]}),t})();y4().bootstrapModule(goe).catch(t=>console.error(t))}},de=>{de(de.s=953)}]);